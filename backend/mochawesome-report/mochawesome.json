{
  "stats": {
    "suites": 70,
    "tests": 196,
    "passes": 52,
    "pending": 0,
    "failures": 144,
    "start": "2025-11-13T03:47:14.779Z",
    "end": "2025-11-13T03:47:19.414Z",
    "duration": 4635,
    "testsRegistered": 196,
    "passPercent": 26.53061224489796,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "10dfaac4-24a8-4c26-ac9c-58df46d80fe5",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "8f62febb-1631-4cef-90ab-a41fe22b1715",
          "title": "User Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
          "file": "\\test\\api\\01-user.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "111bae47-4386-4989-93ea-c3beef4bb1df",
              "title": "1. GET /users - Health Check",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should return operational status",
                  "fullTitle": "User Endpoints 1. GET /users - Health Check should return operational status",
                  "timedOut": false,
                  "duration": 28,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/users`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.message).to.equal('User router is operational');",
                  "err": {},
                  "uuid": "3355e60d-4075-464f-9437-c68144900f3e",
                  "parentUUID": "111bae47-4386-4989-93ea-c3beef4bb1df",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "3355e60d-4075-464f-9437-c68144900f3e"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 28,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "9ea6c88e-fe42-4590-b72f-5c7a9ad1ebbb",
              "title": "2. POST /users/signup - User Signup",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should register a new buyer account successfully",
                  "fullTitle": "User Endpoints 2. POST /users/signup - User Signup should register a new buyer account successfully",
                  "timedOut": false,
                  "duration": 432,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const userData = {\n  email: `testbuyer_${Date.now()}@example.com`,\n  password: 'testpassword123',\n  username: `testbuyer_${Date.now()}`,\n  first_name: 'Test',\n  last_name: 'Buyer',\n  role: 'buyer'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('id');\nexpect(res.body.id).to.be.a('number');",
                  "err": {},
                  "uuid": "be5481b8-8ad3-4001-8430-fdcee9a26a82",
                  "parentUUID": "9ea6c88e-fe42-4590-b72f-5c7a9ad1ebbb",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should register a new seller account successfully",
                  "fullTitle": "User Endpoints 2. POST /users/signup - User Signup should register a new seller account successfully",
                  "timedOut": false,
                  "duration": 110,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const userData = {\n  email: `testseller_${Date.now()}@example.com`,\n  password: 'testpassword123',\n  username: `testseller_${Date.now()}`,\n  first_name: 'Test',\n  last_name: 'Seller',\n  role: 'seller'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('id');",
                  "err": {},
                  "uuid": "a5073953-df36-46c8-8aea-a834c2a67a3c",
                  "parentUUID": "9ea6c88e-fe42-4590-b72f-5c7a9ad1ebbb",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject registration with admin role",
                  "fullTitle": "User Endpoints 2. POST /users/signup - User Signup should reject registration with admin role",
                  "timedOut": false,
                  "duration": 4,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const userData = {\n  email: `testadmin_${Date.now()}@example.com`,\n  password: 'testpassword123',\n  username: `testadmin_${Date.now()}`,\n  first_name: 'Test',\n  last_name: 'Admin',\n  role: 'admin'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 403",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 403\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:75:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 403\n+ 400\n"
                  },
                  "uuid": "91852321-74ef-4576-a821-5bc566da44b4",
                  "parentUUID": "9ea6c88e-fe42-4590-b72f-5c7a9ad1ebbb",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject registration with missing fields",
                  "fullTitle": "User Endpoints 2. POST /users/signup - User Signup should reject registration with missing fields",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const userData = {\n  email: `incomplete_${Date.now()}@example.com`,\n  password: 'testpassword123'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nvalidateErrorResponse(res, 400);",
                  "err": {},
                  "uuid": "6ad3b58a-1e9f-488a-90f9-bd0b9dbdbf71",
                  "parentUUID": "9ea6c88e-fe42-4590-b72f-5c7a9ad1ebbb",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "be5481b8-8ad3-4001-8430-fdcee9a26a82",
                "a5073953-df36-46c8-8aea-a834c2a67a3c",
                "6ad3b58a-1e9f-488a-90f9-bd0b9dbdbf71"
              ],
              "failures": [
                "91852321-74ef-4576-a821-5bc566da44b4"
              ],
              "pending": [],
              "skipped": [],
              "duration": 549,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "90c48637-a299-4dcd-8f4a-8a51553cdded",
              "title": "3. POST /users/signin - User Sign In",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should login with valid seller credentials",
                  "fullTitle": "User Endpoints 3. POST /users/signin - User Sign In should login with valid seller credentials",
                  "timedOut": false,
                  "duration": 43,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.seller1.email,\n    password: global.testAccounts.seller1.password\n  });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('token');\nexpect(res.body).to.have.property('user');\nexpect(res.body.user).to.have.property('user_role').that.equals('seller');\n// Store token for later tests\ntokens.seller1 = res.body.token;",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:103:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "75659355-4588-471b-b861-3f2206948655",
                  "parentUUID": "90c48637-a299-4dcd-8f4a-8a51553cdded",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should login with valid buyer credentials",
                  "fullTitle": "User Endpoints 3. POST /users/signin - User Sign In should login with valid buyer credentials",
                  "timedOut": false,
                  "duration": 42,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.buyer1.email,\n    password: global.testAccounts.buyer1.password\n  });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('token');\nexpect(res.body.user).to.have.property('user_role').that.equals('buyer');\ntokens.buyer1 = res.body.token;",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:121:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "fa230a1d-ee8a-4dc8-bb62-fd7476aff101",
                  "parentUUID": "90c48637-a299-4dcd-8f4a-8a51553cdded",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should login with valid admin credentials",
                  "fullTitle": "User Endpoints 3. POST /users/signin - User Sign In should login with valid admin credentials",
                  "timedOut": false,
                  "duration": 42,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.admin.email,\n    password: global.testAccounts.admin.password\n  });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('token');\nexpect(res.body.user).to.have.property('user_role').that.equals('admin');\ntokens.admin = res.body.token;",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:137:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "cc4bfb3a-1dc0-49ae-888e-b127e61f2675",
                  "parentUUID": "90c48637-a299-4dcd-8f4a-8a51553cdded",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject login with invalid credentials",
                  "fullTitle": "User Endpoints 3. POST /users/signin - User Sign In should reject login with invalid credentials",
                  "timedOut": false,
                  "duration": 43,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: 'invalid@example.com',\n    password: 'wrongpassword'\n  });\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "219c5370-e176-43e2-b82e-d7cba3964387",
                  "parentUUID": "90c48637-a299-4dcd-8f4a-8a51553cdded",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "219c5370-e176-43e2-b82e-d7cba3964387"
              ],
              "failures": [
                "75659355-4588-471b-b861-3f2206948655",
                "fa230a1d-ee8a-4dc8-bb62-fd7476aff101",
                "cc4bfb3a-1dc0-49ae-888e-b127e61f2675"
              ],
              "pending": [],
              "skipped": [],
              "duration": 170,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "854bed91-919e-429c-b4cb-ea417e33229d",
              "title": "4. GET /users/verify-token - Verify Token",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should verify valid token",
                  "fullTitle": "User Endpoints 4. GET /users/verify-token - Verify Token should verify valid token",
                  "timedOut": false,
                  "duration": 4,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/users/verify-token`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('userId');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:164:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "952ba3c4-69fb-4392-90aa-390c58d1ff81",
                  "parentUUID": "854bed91-919e-429c-b4cb-ea417e33229d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject invalid token",
                  "fullTitle": "User Endpoints 4. GET /users/verify-token - Verify Token should reject invalid token",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/users/verify-token`)\n  .set('Authorization', 'Bearer invalid_token_here');\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:174:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "481a2542-495e-44c8-aa4c-18c8a6981f4a",
                  "parentUUID": "854bed91-919e-429c-b4cb-ea417e33229d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject missing token",
                  "fullTitle": "User Endpoints 4. GET /users/verify-token - Verify Token should reject missing token",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/users/verify-token`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:182:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "fd17de11-d221-4f26-880f-9512c60c1688",
                  "parentUUID": "854bed91-919e-429c-b4cb-ea417e33229d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "952ba3c4-69fb-4392-90aa-390c58d1ff81",
                "481a2542-495e-44c8-aa4c-18c8a6981f4a",
                "fd17de11-d221-4f26-880f-9512c60c1688"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "0ccb5769-6622-417d-ace2-be492ea6e477",
              "title": "5. PATCH /users/edit-profile - Edit User Profile",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update user profile successfully",
                  "fullTitle": "User Endpoints 5. PATCH /users/edit-profile - Edit User Profile should update user profile successfully",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  first_name: 'Updated',\n  last_name: 'Name'\n};\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/users/edit-profile`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('user');\nexpect(res.body.user.first_name).to.equal('Updated');\nexpect(res.body.user.last_name).to.equal('Name');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:199:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "1a195dbb-a156-44f8-88a5-3b42ee38caa9",
                  "parentUUID": "0ccb5769-6622-417d-ace2-be492ea6e477",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject profile update without authentication",
                  "fullTitle": "User Endpoints 5. PATCH /users/edit-profile - Edit User Profile should reject profile update without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  first_name: 'Updated'\n};\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/users/edit-profile`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:215:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "f1283c93-4bdd-40c4-a8a1-5a21f91ad7fe",
                  "parentUUID": "0ccb5769-6622-417d-ace2-be492ea6e477",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "1a195dbb-a156-44f8-88a5-3b42ee38caa9",
                "f1283c93-4bdd-40c4-a8a1-5a21f91ad7fe"
              ],
              "pending": [],
              "skipped": [],
              "duration": 6,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "84e13986-775d-4389-ace8-e2f50d2a7b8b",
              "title": "6. POST /users/change-password - Change Password",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should reject password change with wrong current password",
                  "fullTitle": "User Endpoints 6. POST /users/change-password - Change Password should reject password change with wrong current password",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/change-password`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send({\n    currentPassword: 'wrongpassword',\n    newPassword: 'newpassword123'\n  });\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:230:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "68477465-5b5e-4673-b970-5c372601587c",
                  "parentUUID": "84e13986-775d-4389-ace8-e2f50d2a7b8b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject password change without authentication",
                  "fullTitle": "User Endpoints 6. POST /users/change-password - Change Password should reject password change without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/change-password`)\n  .send({\n    currentPassword: 'password123',\n    newPassword: 'newpassword123'\n  });\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:242:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "00712a21-d93d-424e-96cc-85161ce2d172",
                  "parentUUID": "84e13986-775d-4389-ace8-e2f50d2a7b8b",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "68477465-5b5e-4673-b970-5c372601587c",
                "00712a21-d93d-424e-96cc-85161ce2d172"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "ba554a2e-b99f-4a05-9de3-d4c5bb911af5",
              "title": "7. POST /users/super-signup - Create Admin Account",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create admin account with super admin credentials",
                  "fullTitle": "User Endpoints 7. POST /users/super-signup - Create Admin Account should create admin account with super admin credentials",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `newadmin_${Date.now()}@marketplace.com`,\n  password: 'adminpassword123',\n  username: `newadmin_${Date.now()}`,\n  first_name: 'New',\n  last_name: 'Admin'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/super-signup`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password)\n  .send(adminData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:262:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 201\n"
                  },
                  "uuid": "42bc7781-b21b-40bc-935a-6e709b88fe9a",
                  "parentUUID": "ba554a2e-b99f-4a05-9de3-d4c5bb911af5",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject admin creation without super admin auth",
                  "fullTitle": "User Endpoints 7. POST /users/super-signup - Create Admin Account should reject admin creation without super admin auth",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `newadmin2_${Date.now()}@marketplace.com`,\n  password: 'adminpassword123',\n  username: `newadmin2_${Date.now()}`,\n  first_name: 'New',\n  last_name: 'Admin'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/super-signup`)\n  .send(adminData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:280:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 401\n"
                  },
                  "uuid": "00811dc1-d0b6-4638-b94f-e22b8b58a6df",
                  "parentUUID": "ba554a2e-b99f-4a05-9de3-d4c5bb911af5",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "42bc7781-b21b-40bc-935a-6e709b88fe9a",
                "00811dc1-d0b6-4638-b94f-e22b8b58a6df"
              ],
              "pending": [],
              "skipped": [],
              "duration": 6,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "07b65c20-94f4-4eb3-9d3a-b8c743b753a4",
              "title": "8. DELETE /users/delete-user - Delete User",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\01-user.test.js",
              "file": "\\test\\api\\01-user.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"8. DELETE /users/delete-user - Delete User\"",
                  "fullTitle": "User Endpoints 8. DELETE /users/delete-user - Delete User \"before all\" hook in \"8. DELETE /users/delete-user - Delete User\"",
                  "timedOut": false,
                  "duration": 131,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a user to delete\nconst userData = {\n  email: `todelete_${Date.now()}@example.com`,\n  password: 'password123',\n  username: `todelete_${Date.now()}`,\n  first_name: 'To',\n  last_name: 'Delete',\n  role: 'buyer'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nuserIdToDelete = res.body.id;",
                  "err": {},
                  "uuid": "619a6fbc-83d3-4629-864d-2100b6436fb3",
                  "parentUUID": "07b65c20-94f4-4eb3-9d3a-b8c743b753a4",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete user with super admin credentials",
                  "fullTitle": "User Endpoints 8. DELETE /users/delete-user - Delete User should delete user with super admin credentials",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/users/delete-user`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password)\n  .send({ user_id: userIdToDelete });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('deletedUser');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 200 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 200 but got 404\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:313:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 200\n"
                  },
                  "uuid": "23911e47-77b2-477f-b5d7-fbecd62f38e5",
                  "parentUUID": "07b65c20-94f4-4eb3-9d3a-b8c743b753a4",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject user deletion without super admin auth",
                  "fullTitle": "User Endpoints 8. DELETE /users/delete-user - Delete User should reject user deletion without super admin auth",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/users/delete-user`)\n  .send({ user_id: 999999 });\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/01-user.test.js:323:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 401\n"
                  },
                  "uuid": "c93b5def-0a5d-42b5-9e46-36237829f6b6",
                  "parentUUID": "07b65c20-94f4-4eb3-9d3a-b8c743b753a4",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "23911e47-77b2-477f-b5d7-fbecd62f38e5",
                "c93b5def-0a5d-42b5-9e46-36237829f6b6"
              ],
              "pending": [],
              "skipped": [],
              "duration": 4,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "791bc920-b966-405d-91e4-fc45c8655a3e",
          "title": "Listing Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
          "file": "\\test\\api\\02-listing.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "46a73956-cac3-4749-a763-0f10a5065adf",
              "title": "9. GET /listings - Get All Listings",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get all active listings without filters",
                  "fullTitle": "Listing Endpoints 9. GET /listings - Get All Listings should get all active listings without filters",
                  "timedOut": false,
                  "duration": 118,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listings');\nexpect(res.body.listings).to.be.an('array');\nexpect(res.body).to.have.property('pagination');\nvalidatePagination(res.body.pagination);",
                  "err": {
                    "message": "AssertionError: expected { page: 1, limit: 20, …(2) } to have property 'currentPage'",
                    "estack": "AssertionError: expected { page: 1, limit: 20, …(2) } to have property 'currentPage'\n    at validatePagination (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:106:30)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "4a7aad50-c57f-4491-808b-6efe5815487a",
                  "parentUUID": "46a73956-cac3-4749-a763-0f10a5065adf",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter listings by search query",
                  "fullTitle": "Listing Endpoints 9. GET /listings - Get All Listings should filter listings by search query",
                  "timedOut": false,
                  "duration": 80,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?q=phone`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {},
                  "uuid": "b399a99e-09a2-4e66-982a-9c792c5e1ada",
                  "parentUUID": "46a73956-cac3-4749-a763-0f10a5065adf",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter listings by price range",
                  "fullTitle": "Listing Endpoints 9. GET /listings - Get All Listings should filter listings by price range",
                  "timedOut": false,
                  "duration": 79,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?minPrice=1000&maxPrice=50000`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {},
                  "uuid": "64c53d8c-dccf-459a-b821-450d06045097",
                  "parentUUID": "46a73956-cac3-4749-a763-0f10a5065adf",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should sort listings by newest",
                  "fullTitle": "Listing Endpoints 9. GET /listings - Get All Listings should sort listings by newest",
                  "timedOut": false,
                  "duration": 79,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?sort=newest`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {},
                  "uuid": "9abad0b4-7457-4403-bed3-fd6a2c5e0feb",
                  "parentUUID": "46a73956-cac3-4749-a763-0f10a5065adf",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate results",
                  "fullTitle": "Listing Endpoints 9. GET /listings - Get All Listings should paginate results",
                  "timedOut": false,
                  "duration": 77,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?page=1&limit=5`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.pagination.itemsPerPage).to.equal(5);",
                  "err": {
                    "message": "AssertionError: expected undefined to equal 5",
                    "estack": "AssertionError: expected undefined to equal 5\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:58:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "32ca2fd7-af2a-44cc-83a8-864c068564d9",
                  "parentUUID": "46a73956-cac3-4749-a763-0f10a5065adf",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "b399a99e-09a2-4e66-982a-9c792c5e1ada",
                "64c53d8c-dccf-459a-b821-450d06045097",
                "9abad0b4-7457-4403-bed3-fd6a2c5e0feb"
              ],
              "failures": [
                "4a7aad50-c57f-4491-808b-6efe5815487a",
                "32ca2fd7-af2a-44cc-83a8-864c068564d9"
              ],
              "pending": [],
              "skipped": [],
              "duration": 433,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "7af08c93-a8ec-497b-a4d8-d24f195e386d",
              "title": "10. GET /listings/:id - Get Single Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get listing details by ID",
                  "fullTitle": "Listing Endpoints 10. GET /listings/:id - Get Single Listing should get listing details by ID",
                  "timedOut": false,
                  "duration": 76,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings/1`);\nif (res.status === 200) {\n  validateSuccessResponse(res, 200);\n  expect(res.body).to.have.property('listing');\n  expect(res.body.listing).to.have.property('listing_id');\n  expect(res.body.listing).to.have.property('title');\n  expect(res.body.listing).to.have.property('price');\n} else {\n  validateErrorResponse(res, 404);\n}",
                  "err": {},
                  "uuid": "48b0b666-6583-4be4-9084-ee2a97f13417",
                  "parentUUID": "7af08c93-a8ec-497b-a4d8-d24f195e386d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent listing",
                  "fullTitle": "Listing Endpoints 10. GET /listings/:id - Get Single Listing should return 404 for non-existent listing",
                  "timedOut": false,
                  "duration": 76,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings/999999`);\nvalidateErrorResponse(res, 404);",
                  "err": {},
                  "uuid": "873764a4-43b5-4438-b91c-89577204955e",
                  "parentUUID": "7af08c93-a8ec-497b-a4d8-d24f195e386d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "48b0b666-6583-4be4-9084-ee2a97f13417",
                "873764a4-43b5-4438-b91c-89577204955e"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 152,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "5d4a29c7-d511-42ff-8e16-9b59442d8868",
              "title": "11. POST /listings - Create Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create a new listing as seller",
                  "fullTitle": "Listing Endpoints 11. POST /listings - Create Listing should create a new listing as seller",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const listingData = {\n  categoryId: 1,\n  title: `Test Listing ${Date.now()}`,\n  description: 'This is a test listing for automated testing',\n  price: 15000,\n  location: 'Bangkok',\n  images: []\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(listingData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('listingId');\n// Store for later tests\ntestListingId = res.body.listingId;\ntestData.listingIds.test1 = testListingId;",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:105:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 201\n"
                  },
                  "uuid": "6df1d845-4dd5-4e91-b2f3-ed4d6b71a024",
                  "parentUUID": "5d4a29c7-d511-42ff-8e16-9b59442d8868",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject listing creation without authentication",
                  "fullTitle": "Listing Endpoints 11. POST /listings - Create Listing should reject listing creation without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const listingData = {\n  categoryId: 1,\n  title: 'Test Listing',\n  description: 'Test description',\n  price: 15000,\n  location: 'Bangkok'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings`)\n  .send(listingData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "f146c59f-3d3f-44fc-99a6-edc429668361",
                  "parentUUID": "5d4a29c7-d511-42ff-8e16-9b59442d8868",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject listing with missing required fields",
                  "fullTitle": "Listing Endpoints 11. POST /listings - Create Listing should reject listing with missing required fields",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const listingData = {\n  title: 'Incomplete Listing'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(listingData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:141:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "1e20cb51-22ca-4315-b545-1441bbba3e28",
                  "parentUUID": "5d4a29c7-d511-42ff-8e16-9b59442d8868",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject listing creation by buyer",
                  "fullTitle": "Listing Endpoints 11. POST /listings - Create Listing should reject listing creation by buyer",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const listingData = {\n  categoryId: 1,\n  title: 'Buyer Test Listing',\n  description: 'Test description',\n  price: 15000,\n  location: 'Bangkok'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(listingData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:159:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "26784e08-4337-4b40-b097-7f04bc88766d",
                  "parentUUID": "5d4a29c7-d511-42ff-8e16-9b59442d8868",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "f146c59f-3d3f-44fc-99a6-edc429668361"
              ],
              "failures": [
                "6df1d845-4dd5-4e91-b2f3-ed4d6b71a024",
                "1e20cb51-22ca-4315-b545-1441bbba3e28",
                "26784e08-4337-4b40-b097-7f04bc88766d"
              ],
              "pending": [],
              "skipped": [],
              "duration": 9,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "69d189d0-fafb-4a4d-8804-d64bf72908a1",
              "title": "12. GET /listings/my/listings - Get My Listings",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get seller's own listings",
                  "fullTitle": "Listing Endpoints 12. GET /listings/my/listings - Get My Listings should get seller's own listings",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings/my/listings`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listings');\nexpect(res.body.listings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:170:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "21c885d4-8b44-40a9-9fcf-5c1c2f5ffe90",
                  "parentUUID": "69d189d0-fafb-4a4d-8804-d64bf72908a1",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject without authentication",
                  "fullTitle": "Listing Endpoints 12. GET /listings/my/listings - Get My Listings should reject without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings/my/listings`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "a39ed577-3550-4397-a915-40a39b1b5570",
                  "parentUUID": "69d189d0-fafb-4a4d-8804-d64bf72908a1",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "a39ed577-3550-4397-a915-40a39b1b5570"
              ],
              "failures": [
                "21c885d4-8b44-40a9-9fcf-5c1c2f5ffe90"
              ],
              "pending": [],
              "skipped": [],
              "duration": 4,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "96af73cd-7f8b-4bb3-8e09-b4eebc4d6aee",
              "title": "13. PUT /listings/:id - Update Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update listing as owner",
                  "fullTitle": "Listing Endpoints 13. PUT /listings/:id - Update Listing should update listing as owner",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  title: `Updated Listing ${Date.now()}`,\n  description: 'Updated description',\n  price: 20000\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/listings/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listing');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:198:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "d3c67c5a-99bb-41f6-881f-e88c49fd11dd",
                  "parentUUID": "96af73cd-7f8b-4bb3-8e09-b4eebc4d6aee",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject update by non-owner",
                  "fullTitle": "Listing Endpoints 13. PUT /listings/:id - Update Listing should reject update by non-owner",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  title: 'Unauthorized Update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/listings/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:213:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "b4218948-ccb1-458b-84cd-10851b883a60",
                  "parentUUID": "96af73cd-7f8b-4bb3-8e09-b4eebc4d6aee",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject update without authentication",
                  "fullTitle": "Listing Endpoints 13. PUT /listings/:id - Update Listing should reject update without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  title: 'No Auth Update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/listings/${testListingId}`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "8ac185ee-9ecd-4205-90f9-d6420c6253ba",
                  "parentUUID": "96af73cd-7f8b-4bb3-8e09-b4eebc4d6aee",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "8ac185ee-9ecd-4205-90f9-d6420c6253ba"
              ],
              "failures": [
                "d3c67c5a-99bb-41f6-881f-e88c49fd11dd",
                "b4218948-ccb1-458b-84cd-10851b883a60"
              ],
              "pending": [],
              "skipped": [],
              "duration": 6,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "70de5c10-e360-46ab-a7c4-551c04dce9b0",
              "title": "14. PATCH /listings/:id/status - Update Listing Status",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update listing status to sold",
                  "fullTitle": "Listing Endpoints 14. PATCH /listings/:id/status - Update Listing Status should update listing status to sold",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/listings/${testListingId}/status`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send({ status: 'sold' });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listing');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:238:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "338b095c-89a7-4d47-ae88-1fdde1f89e02",
                  "parentUUID": "70de5c10-e360-46ab-a7c4-551c04dce9b0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should update listing status to active",
                  "fullTitle": "Listing Endpoints 14. PATCH /listings/:id/status - Update Listing Status should update listing status to active",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/listings/${testListingId}/status`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send({ status: 'active' });\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:249:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "88a3c9db-b8a8-48d1-b231-e68c7d7e3915",
                  "parentUUID": "70de5c10-e360-46ab-a7c4-551c04dce9b0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject invalid status",
                  "fullTitle": "Listing Endpoints 14. PATCH /listings/:id/status - Update Listing Status should reject invalid status",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/listings/${testListingId}/status`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send({ status: 'invalid_status' });\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:259:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "4811aeee-64e1-4ab6-8c89-f7f104000012",
                  "parentUUID": "70de5c10-e360-46ab-a7c4-551c04dce9b0",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "338b095c-89a7-4d47-ae88-1fdde1f89e02",
                "88a3c9db-b8a8-48d1-b231-e68c7d7e3915",
                "4811aeee-64e1-4ab6-8c89-f7f104000012"
              ],
              "pending": [],
              "skipped": [],
              "duration": 7,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d7b46a76-4ac6-4349-9466-7758cc591903",
              "title": "15. DELETE /listings/:id - Delete Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"15. DELETE /listings/:id - Delete Listing\"",
                  "fullTitle": "Listing Endpoints 15. DELETE /listings/:id - Delete Listing \"before all\" hook in \"15. DELETE /listings/:id - Delete Listing\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a listing to delete\nconst listingData = {\n  categoryId: 1,\n  title: `To Delete ${Date.now()}`,\n  description: 'This listing will be deleted',\n  price: 10000,\n  location: 'Bangkok'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(listingData);\nlistingToDelete = res.body.listingId;",
                  "err": {},
                  "uuid": "8380182b-e70c-408b-8b4f-29772d2eaf54",
                  "parentUUID": "d7b46a76-4ac6-4349-9466-7758cc591903",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete listing as owner",
                  "fullTitle": "Listing Endpoints 15. DELETE /listings/:id - Delete Listing should delete listing as owner",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/listings/${listingToDelete}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:291:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "d7a148de-bb51-4230-a9d4-3b3498357418",
                  "parentUUID": "d7b46a76-4ac6-4349-9466-7758cc591903",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject deletion without authentication",
                  "fullTitle": "Listing Endpoints 15. DELETE /listings/:id - Delete Listing should reject deletion without authentication",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/listings/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "5bc635c4-47b7-4a54-b82c-66e6a5b766ff",
                  "parentUUID": "d7b46a76-4ac6-4349-9466-7758cc591903",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "5bc635c4-47b7-4a54-b82c-66e6a5b766ff"
              ],
              "failures": [
                "d7a148de-bb51-4230-a9d4-3b3498357418"
              ],
              "pending": [],
              "skipped": [],
              "duration": 3,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "9bad842b-ea22-4714-ba00-8f4c519d1cfa",
              "title": "16. POST /listings/:id/images - Add Images to Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should add images to listing",
                  "fullTitle": "Listing Endpoints 16. POST /listings/:id/images - Add Images to Listing should add images to listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const imageData = {\n  images: [\n    'https://utfs.io/f/test-image-1.jpg',\n    'https://utfs.io/f/test-image-2.jpg'\n  ]\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings/${testListingId}/images`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(imageData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('images');\nexpect(res.body.images).to.be.an('array');\nif (res.body.images && res.body.images.length > 0) {\n  testImageId = res.body.images[0].image_id;\n}",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:318:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 201\n"
                  },
                  "uuid": "4ef8b322-60b7-45ee-b78c-7f4a17dd5022",
                  "parentUUID": "9bad842b-ea22-4714-ba00-8f4c519d1cfa",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject adding images without authentication",
                  "fullTitle": "Listing Endpoints 16. POST /listings/:id/images - Add Images to Listing should reject adding images without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const imageData = {\n  images: [\n    'https://utfs.io/f/test.jpg'\n  ]\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/listings/${testListingId}/images`)\n  .send(imageData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "c53e3c44-0958-4b72-b37e-6b99479d260d",
                  "parentUUID": "9bad842b-ea22-4714-ba00-8f4c519d1cfa",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "c53e3c44-0958-4b72-b37e-6b99479d260d"
              ],
              "failures": [
                "4ef8b322-60b7-45ee-b78c-7f4a17dd5022"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "ff1fcfff-c8f1-419c-b2cf-10edc6661a5a",
              "title": "17. DELETE /listings/images/:imageId - Delete Listing Image",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\02-listing.test.js",
              "file": "\\test\\api\\02-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete listing image",
                  "fullTitle": "Listing Endpoints 17. DELETE /listings/images/:imageId - Delete Listing Image should delete listing image",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testImageId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/listings/images/${testImageId}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/02-listing.test.js:346:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "0d55fba9-4beb-4771-b064-06a7d036f52d",
                  "parentUUID": "ff1fcfff-c8f1-419c-b2cf-10edc6661a5a",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject image deletion without authentication",
                  "fullTitle": "Listing Endpoints 17. DELETE /listings/images/:imageId - Delete Listing Image should reject image deletion without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/listings/images/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "521539fb-ff65-4154-b93f-a5e05046c533",
                  "parentUUID": "ff1fcfff-c8f1-419c-b2cf-10edc6661a5a",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "521539fb-ff65-4154-b93f-a5e05046c533"
              ],
              "failures": [
                "0d55fba9-4beb-4771-b064-06a7d036f52d"
              ],
              "pending": [],
              "skipped": [],
              "duration": 3,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "db407c25-6c56-4b5e-9489-336247d9faa4",
          "title": "Seller Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\03-seller.test.js",
          "file": "\\test\\api\\03-seller.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Seller Endpoints\"",
              "fullTitle": "Seller Endpoints \"before all\" hook in \"Seller Endpoints\"",
              "timedOut": false,
              "duration": 39,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get seller ID by signing in\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.seller1.email,\n    password: global.testAccounts.seller1.password\n  });\nif (res.body.success) {\n  sellerId = res.body.user.user_id;\n}",
              "err": {},
              "uuid": "80637662-1e8a-4f89-a292-f00c265f295e",
              "parentUUID": "db407c25-6c56-4b5e-9489-336247d9faa4",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "27df2f8a-96e3-4535-8387-7341caa8678b",
              "title": "18. GET /sellers/:userId - Get Seller Information",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\03-seller.test.js",
              "file": "\\test\\api\\03-seller.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get seller information by ID",
                  "fullTitle": "Seller Endpoints 18. GET /sellers/:userId - Get Seller Information should get seller information by ID",
                  "timedOut": false,
                  "duration": 19,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}`);\nif (res.status === 200) {\n  validateSuccessResponse(res, 200);\n  expect(res.body).to.have.property('seller');\n  expect(res.body.seller).to.have.property('user_id');\n  expect(res.body.seller).to.have.property('username');\n  expect(res.body.seller).to.have.property('user_role').that.equals('seller');\n} else {\n  validateErrorResponse(res, 404);\n}",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 400\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:39:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 404\n"
                  },
                  "uuid": "7e658cb1-9b2d-4fe8-a594-b0ea2f6ca35a",
                  "parentUUID": "27df2f8a-96e3-4535-8387-7341caa8678b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent seller",
                  "fullTitle": "Seller Endpoints 18. GET /sellers/:userId - Get Seller Information should return 404 for non-existent seller",
                  "timedOut": false,
                  "duration": 40,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/999999`);\nvalidateErrorResponse(res, 404);",
                  "err": {},
                  "uuid": "2a0a2924-3689-442e-bf8f-cf3117e09d26",
                  "parentUUID": "27df2f8a-96e3-4535-8387-7341caa8678b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 400 for non-seller user ID",
                  "fullTitle": "Seller Endpoints 18. GET /sellers/:userId - Get Seller Information should return 400 for non-seller user ID",
                  "timedOut": false,
                  "duration": 39,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Try to get buyer as seller\nconst buyerRes = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.buyer1.email,\n    password: global.testAccounts.buyer1.password\n  });\nif (buyerRes.body.success) {\n  const buyerId = buyerRes.body.user.user_id;\n  const res = await chai\n    .request(baseURL)\n    .get(`${apiPrefix}/sellers/${buyerId}`);\n  validateErrorResponse(res, 400);\n}",
                  "err": {},
                  "uuid": "909ad73f-e8b6-44d4-be80-f25c56f72c5a",
                  "parentUUID": "27df2f8a-96e3-4535-8387-7341caa8678b",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "2a0a2924-3689-442e-bf8f-cf3117e09d26",
                "909ad73f-e8b6-44d4-be80-f25c56f72c5a"
              ],
              "failures": [
                "7e658cb1-9b2d-4fe8-a594-b0ea2f6ca35a"
              ],
              "pending": [],
              "skipped": [],
              "duration": 98,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
              "title": "19. GET /sellers/:userId/listings - Get Seller Listings",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\03-seller.test.js",
              "file": "\\test\\api\\03-seller.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get all listings from a seller",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should get all listings from a seller",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listings');\nexpect(res.body.listings).to.be.an('array');\nexpect(res.body).to.have.property('pagination');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:78:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "9d122f46-ec90-4d1d-94d8-01dd0cc633d2",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter seller listings by search query",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should filter seller listings by search query",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings?q=test`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:89:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "2df4c42f-e8fc-43ef-8202-e3d1b8da9c37",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter seller listings by price range",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should filter seller listings by price range",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings?minPrice=1000&maxPrice=50000`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:98:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "d82a5d05-928b-4cf4-84c1-3faa20b54e2a",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter seller listings by status",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should filter seller listings by status",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings?status=active`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:107:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "9a0faac2-a1f2-495b-a7e4-cee8012e4d7c",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should sort seller listings",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should sort seller listings",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings?sort=price_low`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:116:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "048f347e-f29b-43e1-9f3e-b14627531025",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate seller listings",
                  "fullTitle": "Seller Endpoints 19. GET /sellers/:userId/listings - Get Seller Listings should paginate seller listings",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/listings?page=1&limit=5`);\nvalidateSuccessResponse(res, 200);\nif (res.body.pagination) {\n  expect(res.body.pagination.itemsPerPage).to.equal(5);\n}",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:125:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "8a35815e-bffc-4150-b1af-569b01304182",
                  "parentUUID": "1c5ba51c-f29c-4aca-825e-1b9ee9fced9e",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "9d122f46-ec90-4d1d-94d8-01dd0cc633d2",
                "2df4c42f-e8fc-43ef-8202-e3d1b8da9c37",
                "d82a5d05-928b-4cf4-84c1-3faa20b54e2a",
                "9a0faac2-a1f2-495b-a7e4-cee8012e4d7c",
                "048f347e-f29b-43e1-9f3e-b14627531025",
                "8a35815e-bffc-4150-b1af-569b01304182"
              ],
              "pending": [],
              "skipped": [],
              "duration": 12,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d7bf7c26-b20b-46eb-b39d-4156dd652ac2",
              "title": "20. GET /sellers/:userId/reviews - Get Seller Reviews",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\03-seller.test.js",
              "file": "\\test\\api\\03-seller.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get seller reviews",
                  "fullTitle": "Seller Endpoints 20. GET /sellers/:userId/reviews - Get Seller Reviews should get seller reviews",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/reviews`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('reviews');\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:138:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "54b1fdec-e2a3-48dd-ab46-2ff32d506260",
                  "parentUUID": "d7bf7c26-b20b-46eb-b39d-4156dd652ac2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate seller reviews",
                  "fullTitle": "Seller Endpoints 20. GET /sellers/:userId/reviews - Get Seller Reviews should paginate seller reviews",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/reviews?limit=10&offset=0`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:148:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "5ce7ecd9-6130-45ff-b5ae-9a9e450e184b",
                  "parentUUID": "d7bf7c26-b20b-46eb-b39d-4156dd652ac2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for seller with no reviews",
                  "fullTitle": "Seller Endpoints 20. GET /sellers/:userId/reviews - Get Seller Reviews should return empty array for seller with no reviews",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/reviews`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:157:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "5f0a39ab-b0f8-499a-b585-e4885a646ea0",
                  "parentUUID": "d7bf7c26-b20b-46eb-b39d-4156dd652ac2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "54b1fdec-e2a3-48dd-ab46-2ff32d506260",
                "5ce7ecd9-6130-45ff-b5ae-9a9e450e184b",
                "5f0a39ab-b0f8-499a-b585-e4885a646ea0"
              ],
              "pending": [],
              "skipped": [],
              "duration": 7,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "6731781f-fca4-46a3-b913-55ad8eb0dcc3",
              "title": "21. GET /sellers/:userId/stats - Get Seller Statistics",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\03-seller.test.js",
              "file": "\\test\\api\\03-seller.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get seller statistics",
                  "fullTitle": "Seller Endpoints 21. GET /sellers/:userId/stats - Get Seller Statistics should get seller statistics",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/stats`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('stats');\nexpect(res.body.stats).to.be.an('object');\nexpect(res.body.stats).to.have.property('total_listings');\nexpect(res.body.stats).to.have.property('active_listings');\nexpect(res.body.stats).to.have.property('sold_listings');\nexpect(res.body.stats).to.have.property('total_views');\nexpect(res.body.stats).to.have.property('total_reviews');\nexpect(res.body.stats).to.have.property('average_rating');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:168:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "f22c8547-8b05-490e-bb3f-a42614f48c78",
                  "parentUUID": "6731781f-fca4-46a3-b913-55ad8eb0dcc3",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return stats for seller with no activity",
                  "fullTitle": "Seller Endpoints 21. GET /sellers/:userId/stats - Get Seller Statistics should return stats for seller with no activity",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/${sellerId}/stats`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.stats).to.be.an('object');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/03-seller.test.js:184:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 200\n"
                  },
                  "uuid": "a35212d8-1fd2-475c-ab07-4cd5807cc2a8",
                  "parentUUID": "6731781f-fca4-46a3-b913-55ad8eb0dcc3",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent seller",
                  "fullTitle": "Seller Endpoints 21. GET /sellers/:userId/stats - Get Seller Statistics should return 404 for non-existent seller",
                  "timedOut": false,
                  "duration": 39,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/sellers/999999/stats`);\nvalidateErrorResponse(res, 404);",
                  "err": {},
                  "uuid": "f86a783d-fc15-46b2-91b4-979f25bcdae8",
                  "parentUUID": "6731781f-fca4-46a3-b913-55ad8eb0dcc3",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "f86a783d-fc15-46b2-91b4-979f25bcdae8"
              ],
              "failures": [
                "f22c8547-8b05-490e-bb3f-a42614f48c78",
                "a35212d8-1fd2-475c-ab07-4cd5807cc2a8"
              ],
              "pending": [],
              "skipped": [],
              "duration": 43,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "1fdf23f6-f58b-4bb4-8841-14778e27ca04",
          "title": "Category Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
          "file": "\\test\\api\\04-category.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "c8fffef3-65e7-4c6f-8cde-77140ddb8dd1",
              "title": "22. GET /categories - Get All Categories",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get all categories",
                  "fullTitle": "Category Endpoints 22. GET /categories - Get All Categories should get all categories",
                  "timedOut": false,
                  "duration": 40,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('categories');\nexpect(res.body.categories).to.be.an('array');",
                  "err": {},
                  "uuid": "a27f1f07-9368-4504-a66a-be1661773bb8",
                  "parentUUID": "c8fffef3-65e7-4c6f-8cde-77140ddb8dd1",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return categories with proper structure",
                  "fullTitle": "Category Endpoints 22. GET /categories - Get All Categories should return categories with proper structure",
                  "timedOut": false,
                  "duration": 39,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories`);\nvalidateSuccessResponse(res, 200);\nif (res.body.categories.length > 0) {\n  const category = res.body.categories[0];\n  expect(category).to.have.property('category_id');\n  expect(category).to.have.property('category_name');\n  expect(category).to.have.property('slug');\n}",
                  "err": {
                    "message": "AssertionError: expected { category_id: 1, …(7) } to have property 'category_name'",
                    "estack": "AssertionError: expected { category_id: 1, …(7) } to have property 'category_name'\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:32:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "8a6f3ca3-9a93-400a-be96-f9b1cb556149",
                  "parentUUID": "c8fffef3-65e7-4c6f-8cde-77140ddb8dd1",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "a27f1f07-9368-4504-a66a-be1661773bb8"
              ],
              "failures": [
                "8a6f3ca3-9a93-400a-be96-f9b1cb556149"
              ],
              "pending": [],
              "skipped": [],
              "duration": 79,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "930ef1ef-9e05-4c53-ac20-78ffb8feede6",
              "title": "23. GET /categories/:slug - Get Category by Slug",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"23. GET /categories/:slug - Get Category by Slug\"",
                  "fullTitle": "Category Endpoints 23. GET /categories/:slug - Get Category by Slug \"before all\" hook in \"23. GET /categories/:slug - Get Category by Slug\"",
                  "timedOut": false,
                  "duration": 40,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Get a category slug from the list\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories`);\nif (res.body.success && res.body.categories.length > 0) {\n  testCategorySlug = res.body.categories[0].slug;\n  testCategoryId = res.body.categories[0].category_id;\n}",
                  "err": {},
                  "uuid": "a1363c22-639f-4e9b-af9b-861bdf517f7b",
                  "parentUUID": "930ef1ef-9e05-4c53-ac20-78ffb8feede6",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get category by slug",
                  "fullTitle": "Category Endpoints 23. GET /categories/:slug - Get Category by Slug should get category by slug",
                  "timedOut": false,
                  "duration": 111,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategorySlug) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories/${testCategorySlug}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('category');\nexpect(res.body.category).to.have.property('slug').that.equals(testCategorySlug);",
                  "err": {},
                  "uuid": "2cb4bf37-5eee-4bf3-976d-72e6b4c07922",
                  "parentUUID": "930ef1ef-9e05-4c53-ac20-78ffb8feede6",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent slug",
                  "fullTitle": "Category Endpoints 23. GET /categories/:slug - Get Category by Slug should return 404 for non-existent slug",
                  "timedOut": false,
                  "duration": 39,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories/non-existent-slug-12345`);\nvalidateErrorResponse(res, 404);",
                  "err": {},
                  "uuid": "339954db-3b5d-4937-bd8c-b5c61b4d1eb9",
                  "parentUUID": "930ef1ef-9e05-4c53-ac20-78ffb8feede6",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "2cb4bf37-5eee-4bf3-976d-72e6b4c07922",
                "339954db-3b5d-4937-bd8c-b5c61b4d1eb9"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 150,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "9d8b3c4c-b977-40ec-a186-349d876e526c",
              "title": "24. GET /categories/:slug/listings - Get Listings by Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get listings for a category",
                  "fullTitle": "Category Endpoints 24. GET /categories/:slug/listings - Get Listings by Category should get listings for a category",
                  "timedOut": false,
                  "duration": 112,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategorySlug) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories/${testCategorySlug}/listings`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listings');\nexpect(res.body.listings).to.be.an('array');\nexpect(res.body).to.have.property('pagination');",
                  "err": {},
                  "uuid": "0608090e-c20b-474f-b50c-a496fb010aaf",
                  "parentUUID": "9d8b3c4c-b977-40ec-a186-349d876e526c",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter category listings with pagination",
                  "fullTitle": "Category Endpoints 24. GET /categories/:slug/listings - Get Listings by Category should filter category listings with pagination",
                  "timedOut": false,
                  "duration": 112,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategorySlug) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories/${testCategorySlug}/listings?page=1&limit=10`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {},
                  "uuid": "55dbe65a-2a2e-41ec-a633-a4ba5b94eebf",
                  "parentUUID": "9d8b3c4c-b977-40ec-a186-349d876e526c",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should sort category listings",
                  "fullTitle": "Category Endpoints 24. GET /categories/:slug/listings - Get Listings by Category should sort category listings",
                  "timedOut": false,
                  "duration": 113,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategorySlug) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories/${testCategorySlug}/listings?sort=price_low`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.listings).to.be.an('array');",
                  "err": {},
                  "uuid": "abb3cdce-51b9-42ad-a823-1fc9036f45f0",
                  "parentUUID": "9d8b3c4c-b977-40ec-a186-349d876e526c",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "0608090e-c20b-474f-b50c-a496fb010aaf",
                "55dbe65a-2a2e-41ec-a633-a4ba5b94eebf",
                "abb3cdce-51b9-42ad-a823-1fc9036f45f0"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 337,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "407db995-90c6-4f1a-a28b-eaf0417f02e2",
              "title": "25. POST /categories/admin/create - Create Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create a new category as admin",
                  "fullTitle": "Category Endpoints 25. POST /categories/admin/create - Create Category should create a new category as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: `Test Category ${Date.now()}`,\n  slug: `test-category-${Date.now()}`,\n  description: 'A test category for automated testing',\n  icon_url: 'https://example.com/icon.png'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/categories/admin/create`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(categoryData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('category_id');\ntestData.categoryIds.test1 = res.body.category_id;",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:136:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 201\n"
                  },
                  "uuid": "0170108d-be0e-489e-9664-744c349279c3",
                  "parentUUID": "407db995-90c6-4f1a-a28b-eaf0417f02e2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category creation without authentication",
                  "fullTitle": "Category Endpoints 25. POST /categories/admin/create - Create Category should reject category creation without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: 'Unauthorized Category',\n  slug: 'unauthorized-category',\n  description: 'Should not be created'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/categories/admin/create`)\n  .send(categoryData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:154:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 401\n"
                  },
                  "uuid": "cd607759-3efa-47f3-8a43-f5377c047100",
                  "parentUUID": "407db995-90c6-4f1a-a28b-eaf0417f02e2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category creation by non-admin",
                  "fullTitle": "Category Endpoints 25. POST /categories/admin/create - Create Category should reject category creation by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: 'Seller Category',\n  slug: 'seller-category',\n  description: 'Created by seller'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/categories/admin/create`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(categoryData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:170:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 403\n"
                  },
                  "uuid": "39275e1a-1e06-4324-837a-1b7b680e2184",
                  "parentUUID": "407db995-90c6-4f1a-a28b-eaf0417f02e2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category with missing required fields",
                  "fullTitle": "Category Endpoints 25. POST /categories/admin/create - Create Category should reject category with missing required fields",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: 'Incomplete Category'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/categories/admin/create`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(categoryData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 400 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 400 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:184:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 400\n"
                  },
                  "uuid": "523301ec-b919-42b6-b19f-e50bd152f297",
                  "parentUUID": "407db995-90c6-4f1a-a28b-eaf0417f02e2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "0170108d-be0e-489e-9664-744c349279c3",
                "cd607759-3efa-47f3-8a43-f5377c047100",
                "39275e1a-1e06-4324-837a-1b7b680e2184",
                "523301ec-b919-42b6-b19f-e50bd152f297"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "9f7111a4-5110-4537-bd36-2e34b18d7cf2",
              "title": "26. PUT /categories/admin/:id - Update Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update category as admin",
                  "fullTitle": "Category Endpoints 26. PUT /categories/admin/:id - Update Category should update category as admin",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testData.categoryIds.test1) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  category_name: `Updated Category ${Date.now()}`,\n  description: 'Updated description for testing'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/categories/admin/${testData.categoryIds.test1}`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('category');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:191:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "e142eaa8-8e84-4765-96ef-9479e50210ff",
                  "parentUUID": "9f7111a4-5110-4537-bd36-2e34b18d7cf2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category update without authentication",
                  "fullTitle": "Category Endpoints 26. PUT /categories/admin/:id - Update Category should reject category update without authentication",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testData.categoryIds.test1) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  category_name: 'Unauthorized Update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/categories/admin/${testData.categoryIds.test1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:212:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "5128f746-d79a-475e-b682-7faf30052dd7",
                  "parentUUID": "9f7111a4-5110-4537-bd36-2e34b18d7cf2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category update by non-admin",
                  "fullTitle": "Category Endpoints 26. PUT /categories/admin/:id - Update Category should reject category update by non-admin",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testData.categoryIds.test1) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  category_name: 'Seller Update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/categories/admin/${testData.categoryIds.test1}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:230:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "05cea75e-83f8-4517-b675-23b136f8f17c",
                  "parentUUID": "9f7111a4-5110-4537-bd36-2e34b18d7cf2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "e142eaa8-8e84-4765-96ef-9479e50210ff",
                "5128f746-d79a-475e-b682-7faf30052dd7",
                "05cea75e-83f8-4517-b675-23b136f8f17c"
              ],
              "pending": [],
              "skipped": [],
              "duration": 1,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "42e75993-1d47-4959-b622-3ecccb7daa35",
              "title": "27. DELETE /categories/admin/:id - Delete Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\04-category.test.js",
              "file": "\\test\\api\\04-category.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"27. DELETE /categories/admin/:id - Delete Category\"",
                  "fullTitle": "Category Endpoints 27. DELETE /categories/admin/:id - Delete Category \"before all\" hook in \"27. DELETE /categories/admin/:id - Delete Category\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a category to delete\nconst categoryData = {\n  category_name: `To Delete ${Date.now()}`,\n  slug: `to-delete-${Date.now()}`,\n  description: 'This category will be deleted'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/categories/admin/create`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(categoryData);\nif (res.body.success) {\n  categoryToDelete = res.body.category_id;\n}",
                  "err": {},
                  "uuid": "60abd76b-cc24-48c6-8ef3-d8864a6af446",
                  "parentUUID": "42e75993-1d47-4959-b622-3ecccb7daa35",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete category as admin",
                  "fullTitle": "Category Endpoints 27. DELETE /categories/admin/:id - Delete Category should delete category as admin",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!categoryToDelete) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/categories/admin/${categoryToDelete}`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:272:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "c16aad8d-cfab-4fcf-a80e-740b0f248c9e",
                  "parentUUID": "42e75993-1d47-4959-b622-3ecccb7daa35",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category deletion without authentication",
                  "fullTitle": "Category Endpoints 27. DELETE /categories/admin/:id - Delete Category should reject category deletion without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/categories/admin/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 401 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:289:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 401\n"
                  },
                  "uuid": "e1117968-7504-4eca-82d3-78667b285ed2",
                  "parentUUID": "42e75993-1d47-4959-b622-3ecccb7daa35",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category deletion by non-admin",
                  "fullTitle": "Category Endpoints 27. DELETE /categories/admin/:id - Delete Category should reject category deletion by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/categories/admin/999`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404",
                    "estack": "AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/04-category.test.js:298:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 404\n+ 403\n"
                  },
                  "uuid": "d2cc12ed-3ced-41a1-9cd8-3e6197cde861",
                  "parentUUID": "42e75993-1d47-4959-b622-3ecccb7daa35",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "c16aad8d-cfab-4fcf-a80e-740b0f248c9e",
                "e1117968-7504-4eca-82d3-78667b285ed2",
                "d2cc12ed-3ced-41a1-9cd8-3e6197cde861"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "80d949cd-efc5-4f74-a4f4-f460b4356bea",
          "title": "Review Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
          "file": "\\test\\api\\05-review.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Review Endpoints\"",
              "fullTitle": "Review Endpoints \"before all\" hook in \"Review Endpoints\"",
              "timedOut": false,
              "duration": 112,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get seller ID\nconst sellerRes = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.seller1.email,\n    password: global.testAccounts.seller1.password\n  });\nif (sellerRes.body.success) {\n  sellerId = sellerRes.body.user.user_id;\n}\n// Try to get an existing listing\nconst listingsRes = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (listingsRes.body.success && listingsRes.body.listings.length > 0) {\n  testListingId = listingsRes.body.listings[0].listing_id;\n}",
              "err": {},
              "uuid": "c7638962-7d5a-44ad-bb35-84d9305e40ed",
              "parentUUID": "80d949cd-efc5-4f74-a4f4-f460b4356bea",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "640f9175-7640-4e2b-8968-c5864cf70e90",
              "title": "27. GET /reviews/seller/:sellerId - Get Seller Reviews",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get reviews for a seller",
                  "fullTitle": "Review Endpoints 27. GET /reviews/seller/:sellerId - Get Seller Reviews should get reviews for a seller",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!sellerId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/seller/${sellerId}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('reviews');\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:40:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "f266a373-1712-4e99-81bb-a4e1a15c5eb9",
                  "parentUUID": "640f9175-7640-4e2b-8968-c5864cf70e90",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate seller reviews",
                  "fullTitle": "Review Endpoints 27. GET /reviews/seller/:sellerId - Get Seller Reviews should paginate seller reviews",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!sellerId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/seller/${sellerId}?limit=5&offset=0`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:55:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "285d5347-5234-4db3-8eea-329af4def7da",
                  "parentUUID": "640f9175-7640-4e2b-8968-c5864cf70e90",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for seller with no reviews",
                  "fullTitle": "Review Endpoints 27. GET /reviews/seller/:sellerId - Get Seller Reviews should return empty array for seller with no reviews",
                  "timedOut": false,
                  "duration": 78,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/seller/999999`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');\nexpect(res.body.reviews).to.have.length(0);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 500",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 500\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:72:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 500\n+ 200\n"
                  },
                  "uuid": "b120179f-f82c-4f23-8cf3-9c55c792e212",
                  "parentUUID": "640f9175-7640-4e2b-8968-c5864cf70e90",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "f266a373-1712-4e99-81bb-a4e1a15c5eb9",
                "285d5347-5234-4db3-8eea-329af4def7da",
                "b120179f-f82c-4f23-8cf3-9c55c792e212"
              ],
              "pending": [],
              "skipped": [],
              "duration": 79,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "350d0bcd-e783-474e-8b15-99f0d981b130",
              "title": "28. GET /reviews/listing/:listingId - Get Listing Reviews",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get reviews for a listing",
                  "fullTitle": "Review Endpoints 28. GET /reviews/listing/:listingId - Get Listing Reviews should get reviews for a listing",
                  "timedOut": false,
                  "duration": 421,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/listing/${testListingId}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('reviews');\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected { success: true, …(3) } to have property 'reviews'",
                    "estack": "AssertionError: expected { success: true, …(3) } to have property 'reviews'\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:90:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "ef2395a7-b79e-4b3f-a1a8-7cc85d5c0742",
                  "parentUUID": "350d0bcd-e783-474e-8b15-99f0d981b130",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate listing reviews",
                  "fullTitle": "Review Endpoints 28. GET /reviews/listing/:listingId - Get Listing Reviews should paginate listing reviews",
                  "timedOut": false,
                  "duration": 80,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/listing/${testListingId}?limit=10&offset=0`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected undefined to be an array",
                    "estack": "AssertionError: expected undefined to be an array\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:105:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "48bbbe2d-5bda-404e-a462-e2e4bbfd0b0e",
                  "parentUUID": "350d0bcd-e783-474e-8b15-99f0d981b130",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for listing with no reviews",
                  "fullTitle": "Review Endpoints 28. GET /reviews/listing/:listingId - Get Listing Reviews should return empty array for listing with no reviews",
                  "timedOut": false,
                  "duration": 70,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/listing/999999`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reviews).to.be.an('array');\nexpect(res.body.reviews).to.have.length(0);",
                  "err": {
                    "message": "AssertionError: expected undefined to be an array",
                    "estack": "AssertionError: expected undefined to be an array\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:114:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "64e9d18b-04f6-4e1a-8565-770ae1ee78cf",
                  "parentUUID": "350d0bcd-e783-474e-8b15-99f0d981b130",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "ef2395a7-b79e-4b3f-a1a8-7cc85d5c0742",
                "48bbbe2d-5bda-404e-a462-e2e4bbfd0b0e",
                "64e9d18b-04f6-4e1a-8565-770ae1ee78cf"
              ],
              "pending": [],
              "skipped": [],
              "duration": 571,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "7e6bfbd4-458d-4083-9d0d-98ea80273d55",
              "title": "29. POST /reviews - Create Review",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create a review for a listing",
                  "fullTitle": "Review Endpoints 29. POST /reviews - Create Review should create a review for a listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst reviewData = {\n  listingId: testListingId,\n  rating: 5,\n  comment: 'Excellent product! Highly recommended.'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reviews`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(reviewData);\nif (res.status === 201) {\n  validateSuccessResponse(res, 201);\n  expect(res.body).to.have.property('data');\n  expect(res.body.data).to.have.property('reviewId');\n  testReviewId = res.body.data.reviewId;\n  testData.reviewIds.test1 = testReviewId;\n} else {\n  // Might fail if already reviewed\n  expect(res.status).to.be.oneOf([201, 400]);\n}",
                  "err": {
                    "message": "AssertionError: expected 401 to be one of [ 201, 400 ]",
                    "estack": "AssertionError: expected 401 to be one of [ 201, 400 ]\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:146:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "f5143fbf-37a7-4017-8abf-4ae1fefc6a31",
                  "parentUUID": "7e6bfbd4-458d-4083-9d0d-98ea80273d55",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject review creation without authentication",
                  "fullTitle": "Review Endpoints 29. POST /reviews - Create Review should reject review creation without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst reviewData = {\n  listingId: testListingId,\n  rating: 5,\n  comment: 'Unauthorized review'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reviews`)\n  .send(reviewData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "d5b378c1-113a-45a6-b2bc-cd99d024f006",
                  "parentUUID": "7e6bfbd4-458d-4083-9d0d-98ea80273d55",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject review with invalid rating",
                  "fullTitle": "Review Endpoints 29. POST /reviews - Create Review should reject review with invalid rating",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst reviewData = {\n  listingId: testListingId,\n  rating: 6, // Invalid rating (should be 1-5)\n  comment: 'Invalid rating test'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reviews`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(reviewData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:188:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "9b806d2d-32f2-4978-a335-95e714512581",
                  "parentUUID": "7e6bfbd4-458d-4083-9d0d-98ea80273d55",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject review with missing required fields",
                  "fullTitle": "Review Endpoints 29. POST /reviews - Create Review should reject review with missing required fields",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const reviewData = {\n  rating: 5\n  // Missing listing_id\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reviews`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(reviewData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:203:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "8d391fb0-c238-4044-88d3-8e02ff9c61ca",
                  "parentUUID": "7e6bfbd4-458d-4083-9d0d-98ea80273d55",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d5b378c1-113a-45a6-b2bc-cd99d024f006"
              ],
              "failures": [
                "f5143fbf-37a7-4017-8abf-4ae1fefc6a31",
                "9b806d2d-32f2-4978-a335-95e714512581",
                "8d391fb0-c238-4044-88d3-8e02ff9c61ca"
              ],
              "pending": [],
              "skipped": [],
              "duration": 9,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "0c29633c-2f94-49fd-a94c-d54a227bb563",
              "title": "30. GET /reviews/check/:listingId - Check If User Reviewed",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should check if user has reviewed a listing",
                  "fullTitle": "Review Endpoints 30. GET /reviews/check/:listingId - Check If User Reviewed should check if user has reviewed a listing",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/check/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('hasReviewed');\nexpect(res.body.hasReviewed).to.be.a('boolean');",
                  "err": {
                    "message": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'",
                    "estack": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:88:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:219:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "fcb4546e-aa41-4161-a475-6d8fe79252eb",
                  "parentUUID": "0c29633c-2f94-49fd-a94c-d54a227bb563",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject check without authentication",
                  "fullTitle": "Review Endpoints 30. GET /reviews/check/:listingId - Check If User Reviewed should reject check without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reviews/check/${testListingId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 401 but got 200",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 401 but got 200\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:234:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 200\n+ 401\n"
                  },
                  "uuid": "ba729354-c8a2-4ddb-b9f9-68aead5f5bbd",
                  "parentUUID": "0c29633c-2f94-49fd-a94c-d54a227bb563",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "fcb4546e-aa41-4161-a475-6d8fe79252eb",
                "ba729354-c8a2-4ddb-b9f9-68aead5f5bbd"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d139ebcc-92af-4227-9cef-82cc8303c931",
              "title": "31. DELETE /reviews/:reviewId - Delete Review",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"31. DELETE /reviews/:reviewId - Delete Review\"",
                  "fullTitle": "Review Endpoints 31. DELETE /reviews/:reviewId - Delete Review \"before all\" hook in \"31. DELETE /reviews/:reviewId - Delete Review\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a review to delete\nif (testListingId) {\n  const reviewData = {\n    listingId: testListingId,\n    rating: 4,\n    comment: 'This review will be deleted for testing purposes'\n  };\n  const res = await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/reviews`)\n    .set('Authorization', `Bearer ${tokens.buyer1}`)\n    .send(reviewData);\n  if (res.body.success && res.body.data) {\n    reviewToDelete = res.body.data.reviewId;\n  }\n}",
                  "err": {},
                  "uuid": "563aec64-b366-4445-93c0-2d41c3954a72",
                  "parentUUID": "d139ebcc-92af-4227-9cef-82cc8303c931",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete own review",
                  "fullTitle": "Review Endpoints 31. DELETE /reviews/:reviewId - Delete Review should delete own review",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!reviewToDelete) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/reviews/${reviewToDelete}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:264:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "5cdb3d89-7e48-42b8-a458-59e01e9be1bf",
                  "parentUUID": "d139ebcc-92af-4227-9cef-82cc8303c931",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject review deletion without authentication",
                  "fullTitle": "Review Endpoints 31. DELETE /reviews/:reviewId - Delete Review should reject review deletion without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/reviews/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "1005f74a-7c2e-4866-8bbc-7ec2c3ebb4d6",
                  "parentUUID": "d139ebcc-92af-4227-9cef-82cc8303c931",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent review",
                  "fullTitle": "Review Endpoints 31. DELETE /reviews/:reviewId - Delete Review should return 404 for non-existent review",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/reviews/999999`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:290:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "e21c5377-2b1d-46dd-9ac5-91db960edc49",
                  "parentUUID": "d139ebcc-92af-4227-9cef-82cc8303c931",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "1005f74a-7c2e-4866-8bbc-7ec2c3ebb4d6"
              ],
              "failures": [
                "5cdb3d89-7e48-42b8-a458-59e01e9be1bf",
                "e21c5377-2b1d-46dd-9ac5-91db960edc49"
              ],
              "pending": [],
              "skipped": [],
              "duration": 4,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "70fbf9f8-ce17-480d-842a-8a48009e234e",
              "title": "32. PATCH /reviews/:reviewId/spam - Mark Review as Spam",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\05-review.test.js",
              "file": "\\test\\api\\05-review.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should mark review as spam by admin",
                  "fullTitle": "Review Endpoints 32. PATCH /reviews/:reviewId/spam - Mark Review as Spam should mark review as spam by admin",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReviewId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reviews/${testReviewId}/spam`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send({ isSpam: true });\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:297:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "a428409d-d77a-4dad-9f79-707cae9d9601",
                  "parentUUID": "70fbf9f8-ce17-480d-842a-8a48009e234e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject spam marking without authentication",
                  "fullTitle": "Review Endpoints 32. PATCH /reviews/:reviewId/spam - Mark Review as Spam should reject spam marking without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReviewId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reviews/${testReviewId}/spam`)\n  .send({ is_spam: true });\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:312:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "b1eaab3f-6bc0-4b71-8093-3ef01c6aec5c",
                  "parentUUID": "70fbf9f8-ce17-480d-842a-8a48009e234e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject spam marking by non-admin",
                  "fullTitle": "Review Endpoints 32. PATCH /reviews/:reviewId/spam - Mark Review as Spam should reject spam marking by non-admin",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReviewId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reviews/${testReviewId}/spam`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send({ isSpam: true });\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:326:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "4e9cd3a4-a434-44de-bf67-4d56d806a2ba",
                  "parentUUID": "70fbf9f8-ce17-480d-842a-8a48009e234e",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should unmark review as spam",
                  "fullTitle": "Review Endpoints 32. PATCH /reviews/:reviewId/spam - Mark Review as Spam should unmark review as spam",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReviewId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reviews/${testReviewId}/spam`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send({ isSpam: false });\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/05-review.test.js:341:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "929b1e8b-41c8-4a35-9ab0-8a9dfa290597",
                  "parentUUID": "70fbf9f8-ce17-480d-842a-8a48009e234e",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "a428409d-d77a-4dad-9f79-707cae9d9601",
                "b1eaab3f-6bc0-4b71-8093-3ef01c6aec5c",
                "4e9cd3a4-a434-44de-bf67-4d56d806a2ba",
                "929b1e8b-41c8-4a35-9ab0-8a9dfa290597"
              ],
              "pending": [],
              "skipped": [],
              "duration": 1,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "a81d0e9f-2aa3-4dee-9339-093ef981f494",
          "title": "Saved Listing Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
          "file": "\\test\\api\\06-saved-listing.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Saved Listing Endpoints\"",
              "fullTitle": "Saved Listing Endpoints \"before all\" hook in \"Saved Listing Endpoints\"",
              "timedOut": false,
              "duration": 73,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get an existing listing to test with\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (res.body.success && res.body.listings.length > 0) {\n  testListingId = res.body.listings[0].listing_id;\n}",
              "err": {},
              "uuid": "8578c12a-b772-42e1-830e-a2893fdf7535",
              "parentUUID": "a81d0e9f-2aa3-4dee-9339-093ef981f494",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "fe20685e-d184-4d4c-983b-5c445aceb834",
              "title": "33. POST /saved-listings - Save Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
              "file": "\\test\\api\\06-saved-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should save a listing",
                  "fullTitle": "Saved Listing Endpoints 33. POST /saved-listings - Save Listing should save a listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/saved-listings`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send({ listingId: testListingId });\nif (res.status === 201) {\n  validateSuccessResponse(res, 201);\n  expect(res.body).to.have.property('data');\n  expect(res.body.data).to.have.property('savedId');\n} else if (res.status === 400) {\n  // Already saved\n  expect(res.body).to.have.property('success').that.equals(false);\n}",
                  "err": {},
                  "uuid": "fd584e7f-de05-4068-839d-34705e92dc41",
                  "parentUUID": "fe20685e-d184-4d4c-983b-5c445aceb834",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject saving without authentication",
                  "fullTitle": "Saved Listing Endpoints 33. POST /saved-listings - Save Listing should reject saving without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/saved-listings`)\n  .send({ listingId: testListingId });\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "fd4461f1-b2eb-4352-bed6-927cccbfa2fe",
                  "parentUUID": "fe20685e-d184-4d4c-983b-5c445aceb834",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject saving with missing listing_id",
                  "fullTitle": "Saved Listing Endpoints 33. POST /saved-listings - Save Listing should reject saving with missing listing_id",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/saved-listings`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send({});\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:66:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "f781b97b-3ce8-4465-84ab-faca9aa55e27",
                  "parentUUID": "fe20685e-d184-4d4c-983b-5c445aceb834",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject saving non-existent listing",
                  "fullTitle": "Saved Listing Endpoints 33. POST /saved-listings - Save Listing should reject saving non-existent listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/saved-listings`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send({ listing_id: 999999 });\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:76:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "146cd8c5-416e-464c-ae76-e2c8bd0118ec",
                  "parentUUID": "fe20685e-d184-4d4c-983b-5c445aceb834",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "fd584e7f-de05-4068-839d-34705e92dc41",
                "fd4461f1-b2eb-4352-bed6-927cccbfa2fe"
              ],
              "failures": [
                "f781b97b-3ce8-4465-84ab-faca9aa55e27",
                "146cd8c5-416e-464c-ae76-e2c8bd0118ec"
              ],
              "pending": [],
              "skipped": [],
              "duration": 10,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "7adb2947-f453-41ce-ae23-e6e0141ddf04",
              "title": "34. DELETE /saved-listings/:listingId - Unsave Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
              "file": "\\test\\api\\06-saved-listing.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"34. DELETE /saved-listings/:listingId - Unsave Listing\"",
                  "fullTitle": "Saved Listing Endpoints 34. DELETE /saved-listings/:listingId - Unsave Listing \"before all\" hook in \"34. DELETE /saved-listings/:listingId - Unsave Listing\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Ensure the listing is saved before trying to unsave\nif (testListingId) {\n  await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/saved-listings`)\n    .set('Authorization', `Bearer ${tokens.buyer1}`)\n    .send({ listingId: testListingId });\n}",
                  "err": {},
                  "uuid": "35bd1fd5-d439-40e6-84c1-2e27cd0ec3d5",
                  "parentUUID": "7adb2947-f453-41ce-ae23-e6e0141ddf04",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should unsave a listing",
                  "fullTitle": "Saved Listing Endpoints 34. DELETE /saved-listings/:listingId - Unsave Listing should unsave a listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/saved-listings/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:103:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "1e15c2f3-442a-4e92-8a6a-466310e4c682",
                  "parentUUID": "7adb2947-f453-41ce-ae23-e6e0141ddf04",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject unsaving without authentication",
                  "fullTitle": "Saved Listing Endpoints 34. DELETE /saved-listings/:listingId - Unsave Listing should reject unsaving without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/saved-listings/${testListingId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "7833fc8b-cae5-4405-9300-0beffcb89877",
                  "parentUUID": "7adb2947-f453-41ce-ae23-e6e0141ddf04",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for unsaving non-saved listing",
                  "fullTitle": "Saved Listing Endpoints 34. DELETE /saved-listings/:listingId - Unsave Listing should return 404 for unsaving non-saved listing",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/saved-listings/999999`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:125:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "9a086d04-f2f4-47a2-9d38-633716e5f59e",
                  "parentUUID": "7adb2947-f453-41ce-ae23-e6e0141ddf04",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "7833fc8b-cae5-4405-9300-0beffcb89877"
              ],
              "failures": [
                "1e15c2f3-442a-4e92-8a6a-466310e4c682",
                "9a086d04-f2f4-47a2-9d38-633716e5f59e"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "f6f6a31d-b5a4-473b-8def-0282f047d543",
              "title": "35. GET /saved-listings - Get Saved Listings",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
              "file": "\\test\\api\\06-saved-listing.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"35. GET /saved-listings - Get Saved Listings\"",
                  "fullTitle": "Saved Listing Endpoints 35. GET /saved-listings - Get Saved Listings \"before all\" hook in \"35. GET /saved-listings - Get Saved Listings\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Save a listing for testing\nif (testListingId) {\n  await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/saved-listings`)\n    .set('Authorization', `Bearer ${tokens.buyer1}`)\n    .send({ listingId: testListingId });\n}",
                  "err": {},
                  "uuid": "d201a481-7438-4908-bf79-e39c875dbdcc",
                  "parentUUID": "f6f6a31d-b5a4-473b-8def-0282f047d543",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get user's saved listings",
                  "fullTitle": "Saved Listing Endpoints 35. GET /saved-listings - Get Saved Listings should get user's saved listings",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('savedListings');\nexpect(res.body.savedListings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:147:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "e0ac19a1-a689-4ddc-89eb-3a391e983d67",
                  "parentUUID": "f6f6a31d-b5a4-473b-8def-0282f047d543",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate saved listings",
                  "fullTitle": "Saved Listing Endpoints 35. GET /saved-listings - Get Saved Listings should paginate saved listings",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings?limit=5&offset=0`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.savedListings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:158:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "c301f9d5-6717-4564-9e81-d74267ce2a9b",
                  "parentUUID": "f6f6a31d-b5a4-473b-8def-0282f047d543",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting saved listings without authentication",
                  "fullTitle": "Saved Listing Endpoints 35. GET /saved-listings - Get Saved Listings should reject getting saved listings without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "7176a6cc-7f70-4a20-8210-0468c8fc16b4",
                  "parentUUID": "f6f6a31d-b5a4-473b-8def-0282f047d543",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for user with no saved listings",
                  "fullTitle": "Saved Listing Endpoints 35. GET /saved-listings - Get Saved Listings should return empty array for user with no saved listings",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.savedListings).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:176:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "4acb0a82-c43a-48b5-8f08-6ec7cadb80ee",
                  "parentUUID": "f6f6a31d-b5a4-473b-8def-0282f047d543",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "7176a6cc-7f70-4a20-8210-0468c8fc16b4"
              ],
              "failures": [
                "e0ac19a1-a689-4ddc-89eb-3a391e983d67",
                "c301f9d5-6717-4564-9e81-d74267ce2a9b",
                "4acb0a82-c43a-48b5-8f08-6ec7cadb80ee"
              ],
              "pending": [],
              "skipped": [],
              "duration": 9,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "6fe7d118-5813-4e8d-98f0-64889e8f7f99",
              "title": "36. GET /saved-listings/check/:listingId - Check If Listing is Saved",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
              "file": "\\test\\api\\06-saved-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should check if listing is saved",
                  "fullTitle": "Saved Listing Endpoints 36. GET /saved-listings/check/:listingId - Check If Listing is Saved should check if listing is saved",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/check/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('isSaved');\nexpect(res.body.isSaved).to.be.a('boolean');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:193:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "4dc99d24-17c7-441e-95c2-f8639c919ebe",
                  "parentUUID": "6fe7d118-5813-4e8d-98f0-64889e8f7f99",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject check without authentication",
                  "fullTitle": "Saved Listing Endpoints 36. GET /saved-listings/check/:listingId - Check If Listing is Saved should reject check without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/check/${testListingId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "99bbb15e-bb5b-4002-b793-548e82b42ee1",
                  "parentUUID": "6fe7d118-5813-4e8d-98f0-64889e8f7f99",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return false for non-saved listing",
                  "fullTitle": "Saved Listing Endpoints 36. GET /saved-listings/check/:listingId - Check If Listing is Saved should return false for non-saved listing",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/check/999999`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.isSaved).to.equal(false);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:217:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "1d857a5a-b36f-4b05-b0cf-f1720094a3b5",
                  "parentUUID": "6fe7d118-5813-4e8d-98f0-64889e8f7f99",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "99bbb15e-bb5b-4002-b793-548e82b42ee1"
              ],
              "failures": [
                "4dc99d24-17c7-441e-95c2-f8639c919ebe",
                "1d857a5a-b36f-4b05-b0cf-f1720094a3b5"
              ],
              "pending": [],
              "skipped": [],
              "duration": 7,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "a63218b7-b02c-455b-8002-8a3e70827ab2",
              "title": "37. GET /saved-listings/count/:listingId - Get Save Count",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\06-saved-listing.test.js",
              "file": "\\test\\api\\06-saved-listing.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get save count for a listing",
                  "fullTitle": "Saved Listing Endpoints 37. GET /saved-listings/count/:listingId - Get Save Count should get save count for a listing",
                  "timedOut": false,
                  "duration": 37,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/count/${testListingId}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('saveCount');\nexpect(res.body.saveCount).to.be.a('number');\nexpect(res.body.saveCount).to.be.at.least(0);",
                  "err": {
                    "message": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'",
                    "estack": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:88:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:233:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "35533c92-55b7-48a5-8ed1-dbd4b6e99942",
                  "parentUUID": "a63218b7-b02c-455b-8002-8a3e70827ab2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 0 for listing with no saves",
                  "fullTitle": "Saved Listing Endpoints 37. GET /saved-listings/count/:listingId - Get Save Count should return 0 for listing with no saves",
                  "timedOut": false,
                  "duration": 36,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/count/999999`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.saveCount).to.equal(0);",
                  "err": {
                    "message": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'",
                    "estack": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:88:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:244:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "3e327c99-0e10-41ac-8fa7-d28314f7717e",
                  "parentUUID": "a63218b7-b02c-455b-8002-8a3e70827ab2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should work without authentication (public endpoint)",
                  "fullTitle": "Saved Listing Endpoints 37. GET /saved-listings/count/:listingId - Get Save Count should work without authentication (public endpoint)",
                  "timedOut": false,
                  "duration": 36,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/saved-listings/count/${testListingId}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('saveCount');",
                  "err": {
                    "message": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'",
                    "estack": "AssertionError: expected { success: true, data: { …(2) } } to have property 'message'\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:88:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/06-saved-listing.test.js:258:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "81b351e1-2c92-462e-bfea-5beab37df0f1",
                  "parentUUID": "a63218b7-b02c-455b-8002-8a3e70827ab2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "35533c92-55b7-48a5-8ed1-dbd4b6e99942",
                "3e327c99-0e10-41ac-8fa7-d28314f7717e",
                "81b351e1-2c92-462e-bfea-5beab37df0f1"
              ],
              "pending": [],
              "skipped": [],
              "duration": 109,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "a1ab0420-cc8c-4fc8-a197-a317b0cfcffb",
          "title": "Report Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
          "file": "\\test\\api\\07-report.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Report Endpoints\"",
              "fullTitle": "Report Endpoints \"before all\" hook in \"Report Endpoints\"",
              "timedOut": false,
              "duration": 72,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get an existing listing to report\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (res.body.success && res.body.listings.length > 0) {\n  testListingId = res.body.listings[0].listing_id;\n}",
              "err": {},
              "uuid": "fe988358-c051-40cc-84ab-3c54838fdb5e",
              "parentUUID": "a1ab0420-cc8c-4fc8-a197-a317b0cfcffb",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "fb96cb0c-784e-4dfb-876b-f8a6dc15b767",
              "title": "38. POST /reports - Submit Report",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
              "file": "\\test\\api\\07-report.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should submit a listing report",
                  "fullTitle": "Report Endpoints 38. POST /reports - Submit Report should submit a listing report",
                  "timedOut": false,
                  "duration": 72,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst reportData = {\n  reportedType: 'listing',\n  reportedId: testListingId,\n  reason: 'This is a spam listing for testing purposes'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reports`)\n  .send(reportData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('data');\nexpect(res.body.data).to.have.property('reportId');\ntestReportId = res.body.data.reportId;\ntestData.reportIds.test1 = testReportId;",
                  "err": {},
                  "uuid": "d38d34f2-52e2-4a39-8a2b-0580c00c3685",
                  "parentUUID": "fb96cb0c-784e-4dfb-876b-f8a6dc15b767",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should submit a report with authentication",
                  "fullTitle": "Report Endpoints 38. POST /reports - Submit Report should submit a report with authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst reportData = {\n  report_type: 'listing',\n  reported_id: testListingId,\n  reason: 'inappropriate',\n  description: 'Inappropriate content test report'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reports`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(reportData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('report_id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:68:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 201\n"
                  },
                  "uuid": "a104f07d-1424-484b-b450-33aa8894071d",
                  "parentUUID": "fb96cb0c-784e-4dfb-876b-f8a6dc15b767",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject report with missing required fields",
                  "fullTitle": "Report Endpoints 38. POST /reports - Submit Report should reject report with missing required fields",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const reportData = {\n  report_type: 'listing'\n  // Missing reported_id, reason\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reports`)\n  .send(reportData);\nvalidateErrorResponse(res, 400);",
                  "err": {},
                  "uuid": "db9bf050-4f03-4654-9455-4036dcf701f3",
                  "parentUUID": "fb96cb0c-784e-4dfb-876b-f8a6dc15b767",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject report with invalid report_type",
                  "fullTitle": "Report Endpoints 38. POST /reports - Submit Report should reject report with invalid report_type",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const reportData = {\n  report_type: 'invalid_type',\n  reported_id: 1,\n  reason: 'spam',\n  description: 'Test'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/reports`)\n  .send(reportData);\nvalidateErrorResponse(res, 400);",
                  "err": {},
                  "uuid": "0b005877-e704-4eea-b26c-72b93c92cf55",
                  "parentUUID": "fb96cb0c-784e-4dfb-876b-f8a6dc15b767",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d38d34f2-52e2-4a39-8a2b-0580c00c3685",
                "db9bf050-4f03-4654-9455-4036dcf701f3",
                "0b005877-e704-4eea-b26c-72b93c92cf55"
              ],
              "failures": [
                "a104f07d-1424-484b-b450-33aa8894071d"
              ],
              "pending": [],
              "skipped": [],
              "duration": 77,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
              "title": "39. GET /reports - Get All Reports",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
              "file": "\\test\\api\\07-report.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get all reports as admin",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should get all reports as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('reports');\nexpect(res.body.reports).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:110:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "ccb4a0ef-d5e8-4576-b73d-8bcfb3d8e862",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter reports by type",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should filter reports by type",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports?type=listing`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reports).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:121:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "5065162c-131c-4d85-b6cb-6a9d5c284131",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should filter reports by status",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should filter reports by status",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports?status=pending`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reports).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:131:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "68bed1a1-5bee-4a27-aaf8-0e1e3da01bb6",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate reports",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should paginate reports",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports?limit=10&offset=0`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.reports).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:141:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "03db394a-3d38-46c3-a3eb-5832febafdeb",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting reports without authentication",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should reject getting reports without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "715a51f0-7bcf-4369-8332-4a2dbb274aa7",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting reports by non-admin",
                  "fullTitle": "Report Endpoints 39. GET /reports - Get All Reports should reject getting reports by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:159:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "f07ab6b9-8969-41c6-8010-e82e2ba77f37",
                  "parentUUID": "33ee1b86-f33d-4cb4-a8df-9560091cc263",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "715a51f0-7bcf-4369-8332-4a2dbb274aa7"
              ],
              "failures": [
                "ccb4a0ef-d5e8-4576-b73d-8bcfb3d8e862",
                "5065162c-131c-4d85-b6cb-6a9d5c284131",
                "68bed1a1-5bee-4a27-aaf8-0e1e3da01bb6",
                "03db394a-3d38-46c3-a3eb-5832febafdeb",
                "f07ab6b9-8969-41c6-8010-e82e2ba77f37"
              ],
              "pending": [],
              "skipped": [],
              "duration": 11,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "b3df844b-4db6-423d-ac4b-82fad005bec0",
              "title": "40. GET /reports/:reportId - Get Report Details",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
              "file": "\\test\\api\\07-report.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get report details as admin",
                  "fullTitle": "Report Endpoints 40. GET /reports/:reportId - Get Report Details should get report details as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/${testReportId}`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('report');\nexpect(res.body.report).to.have.property('report_id').that.equals(testReportId);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:175:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "4310ef1f-92bc-4197-9c49-87d327a9b6a0",
                  "parentUUID": "b3df844b-4db6-423d-ac4b-82fad005bec0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting report details without authentication",
                  "fullTitle": "Report Endpoints 40. GET /reports/:reportId - Get Report Details should reject getting report details without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/${testReportId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "ae32943a-8a54-4458-a771-e90522283e27",
                  "parentUUID": "b3df844b-4db6-423d-ac4b-82fad005bec0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting report details by non-admin",
                  "fullTitle": "Report Endpoints 40. GET /reports/:reportId - Get Report Details should reject getting report details by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/${testReportId}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:204:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "3990d723-e053-4e84-a417-3f172d7a6eec",
                  "parentUUID": "b3df844b-4db6-423d-ac4b-82fad005bec0",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent report",
                  "fullTitle": "Report Endpoints 40. GET /reports/:reportId - Get Report Details should return 404 for non-existent report",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/999999`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:213:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "45453c39-572d-4858-abd1-61a5f618a9cc",
                  "parentUUID": "b3df844b-4db6-423d-ac4b-82fad005bec0",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "ae32943a-8a54-4458-a771-e90522283e27"
              ],
              "failures": [
                "4310ef1f-92bc-4197-9c49-87d327a9b6a0",
                "3990d723-e053-4e84-a417-3f172d7a6eec",
                "45453c39-572d-4858-abd1-61a5f618a9cc"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "a4f78191-464f-415a-a6bf-a0eea37a5735",
              "title": "41. GET /reports/statistics - Get Report Statistics",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
              "file": "\\test\\api\\07-report.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get report statistics as admin",
                  "fullTitle": "Report Endpoints 41. GET /reports/statistics - Get Report Statistics should get report statistics as admin",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/statistics`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('statistics');\nexpect(res.body.statistics).to.be.an('object');\nexpect(res.body.statistics).to.have.property('total_reports');\nexpect(res.body.statistics).to.have.property('pending_reports');\nexpect(res.body.statistics).to.have.property('resolved_reports');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:224:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "7a1fef92-46e5-4f2d-92a7-b9ebdd65a436",
                  "parentUUID": "a4f78191-464f-415a-a6bf-a0eea37a5735",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting statistics without authentication",
                  "fullTitle": "Report Endpoints 41. GET /reports/statistics - Get Report Statistics should reject getting statistics without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/statistics`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "55806407-e04b-4c55-a572-9c77c9fcbdfe",
                  "parentUUID": "a4f78191-464f-415a-a6bf-a0eea37a5735",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting statistics by non-admin",
                  "fullTitle": "Report Endpoints 41. GET /reports/statistics - Get Report Statistics should reject getting statistics by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/reports/statistics`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:246:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "6b0413db-bdfa-4c72-a799-a3e6a6c143f2",
                  "parentUUID": "a4f78191-464f-415a-a6bf-a0eea37a5735",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "55806407-e04b-4c55-a572-9c77c9fcbdfe"
              ],
              "failures": [
                "7a1fef92-46e5-4f2d-92a7-b9ebdd65a436",
                "6b0413db-bdfa-4c72-a799-a3e6a6c143f2"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
              "title": "42. PATCH /reports/:reportId/status - Update Report Status",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\07-report.test.js",
              "file": "\\test\\api\\07-report.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update report status to reviewing",
                  "fullTitle": "Report Endpoints 42. PATCH /reports/:reportId/status - Update Report Status should update report status to reviewing",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reports/${testReportId}/status`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send({\n    status: 'reviewing',\n    admin_notes: 'Under review for testing'\n  });\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('report');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:266:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "300bed24-a356-4f5b-b600-ea5e552eca2c",
                  "parentUUID": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should update report status to resolved",
                  "fullTitle": "Report Endpoints 42. PATCH /reports/:reportId/status - Update Report Status should update report status to resolved",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reports/${testReportId}/status`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send({\n    status: 'resolved',\n    admin_notes: 'Report resolved successfully'\n  });\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:285:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "cfd6eeb5-8dfd-4c2f-b341-7f850e006cd8",
                  "parentUUID": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject status update with invalid status",
                  "fullTitle": "Report Endpoints 42. PATCH /reports/:reportId/status - Update Report Status should reject status update with invalid status",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reports/${testReportId}/status`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send({\n    status: 'invalid_status'\n  });\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:302:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "498ae062-e1f8-4377-aa82-e4519ce23377",
                  "parentUUID": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject status update without authentication",
                  "fullTitle": "Report Endpoints 42. PATCH /reports/:reportId/status - Update Report Status should reject status update without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reports/${testReportId}/status`)\n  .send({\n    status: 'resolved'\n  });\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "dccfb6c4-5b27-494a-b54f-33e99be82b87",
                  "parentUUID": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject status update by non-admin",
                  "fullTitle": "Report Endpoints 42. PATCH /reports/:reportId/status - Update Report Status should reject status update by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testReportId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/reports/${testReportId}/status`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send({\n    status: 'resolved'\n  });\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/07-report.test.js:335:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "884295d0-5cae-4268-b709-168bdb60768a",
                  "parentUUID": "d3091c97-041d-4bac-8b23-a17d37acdb2b",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "dccfb6c4-5b27-494a-b54f-33e99be82b87"
              ],
              "failures": [
                "300bed24-a356-4f5b-b600-ea5e552eca2c",
                "cfd6eeb5-8dfd-4c2f-b341-7f850e006cd8",
                "498ae062-e1f8-4377-aa82-e4519ce23377",
                "884295d0-5cae-4268-b709-168bdb60768a"
              ],
              "pending": [],
              "skipped": [],
              "duration": 11,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "b7367acb-ed81-418e-9b33-812ae5f2db4c",
          "title": "Conversation (Messaging) Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
          "file": "\\test\\api\\08-conversation.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Conversation (Messaging) Endpoints\"",
              "fullTitle": "Conversation (Messaging) Endpoints \"before all\" hook in \"Conversation (Messaging) Endpoints\"",
              "timedOut": false,
              "duration": 113,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get seller ID\nconst sellerRes = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.seller1.email,\n    password: global.testAccounts.seller1.password\n  });\nif (sellerRes.body.success) {\n  sellerId = sellerRes.body.user.user_id;\n}\n// Get a listing\nconst listingsRes = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (listingsRes.body.success && listingsRes.body.listings.length > 0) {\n  testListingId = listingsRes.body.listings[0].listing_id;\n}",
              "err": {},
              "uuid": "3c8ea1ac-9d71-4668-bcad-e6117b3872b2",
              "parentUUID": "b7367acb-ed81-418e-9b33-812ae5f2db4c",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "c5937479-ba24-4b1c-9740-366d83bdf00d",
              "title": "43. POST /conversations - Create or Get Conversation",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create a new conversation",
                  "fullTitle": "Conversation (Messaging) Endpoints 43. POST /conversations - Create or Get Conversation should create a new conversation",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId || !sellerId) {\n  this.skip();\n  return;\n}\nconst conversationData = {\n  listing_id: testListingId,\n  seller_id: sellerId,\n  initial_message: 'Hello, I am interested in this item. Is it still available?'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(conversationData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('conversation_id');\nexpect(res.body).to.have.property('message');\ntestConversationId = res.body.conversation_id;\ntestData.conversationIds.test1 = testConversationId;",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:40:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "ac0bdaba-b213-4498-8fbd-242de54d923d",
                  "parentUUID": "c5937479-ba24-4b1c-9740-366d83bdf00d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should get existing conversation instead of creating duplicate",
                  "fullTitle": "Conversation (Messaging) Endpoints 43. POST /conversations - Create or Get Conversation should get existing conversation instead of creating duplicate",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId || !sellerId) {\n  this.skip();\n  return;\n}\nconst conversationData = {\n  listing_id: testListingId,\n  seller_id: sellerId,\n  initial_message: 'Follow up message'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(conversationData);\n// Should return 200 with existing conversation\nexpect(res.status).to.be.oneOf([200, 201]);\nexpect(res.body).to.have.property('conversation_id');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:66:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "742688c9-03af-4805-9b28-2a770fc93ce0",
                  "parentUUID": "c5937479-ba24-4b1c-9740-366d83bdf00d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject conversation creation without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 43. POST /conversations - Create or Get Conversation should reject conversation creation without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId || !sellerId) {\n  this.skip();\n  return;\n}\nconst conversationData = {\n  listing_id: testListingId,\n  seller_id: sellerId,\n  initial_message: 'Unauthorized message'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations`)\n  .send(conversationData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:89:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "5ee04658-f854-4ed2-b9f8-e2e935201c89",
                  "parentUUID": "c5937479-ba24-4b1c-9740-366d83bdf00d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject conversation with missing required fields",
                  "fullTitle": "Conversation (Messaging) Endpoints 43. POST /conversations - Create or Get Conversation should reject conversation with missing required fields",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const conversationData = {\n  initial_message: 'Missing fields'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(conversationData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:118:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "6192d479-d012-40c8-88c2-7f2d45a7c513",
                  "parentUUID": "c5937479-ba24-4b1c-9740-366d83bdf00d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "ac0bdaba-b213-4498-8fbd-242de54d923d",
                "742688c9-03af-4805-9b28-2a770fc93ce0",
                "5ee04658-f854-4ed2-b9f8-e2e935201c89",
                "6192d479-d012-40c8-88c2-7f2d45a7c513"
              ],
              "pending": [],
              "skipped": [],
              "duration": 2,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d6b812f3-2614-4b13-9b4c-c0ba17d9e1d2",
              "title": "44. GET /conversations - Get User Conversations",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get user's conversations",
                  "fullTitle": "Conversation (Messaging) Endpoints 44. GET /conversations - Get User Conversations should get user's conversations",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('conversations');\nexpect(res.body.conversations).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:129:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "5a7ea507-7e92-4134-aa17-87ad6fc7b2a6",
                  "parentUUID": "d6b812f3-2614-4b13-9b4c-c0ba17d9e1d2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate conversations",
                  "fullTitle": "Conversation (Messaging) Endpoints 44. GET /conversations - Get User Conversations should paginate conversations",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations?limit=10&offset=0`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.conversations).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:140:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "48552b25-c22c-4e31-8ec8-6ac17cce46b1",
                  "parentUUID": "d6b812f3-2614-4b13-9b4c-c0ba17d9e1d2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting conversations without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 44. GET /conversations - Get User Conversations should reject getting conversations without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "4e547ff9-39b4-403a-89a5-f9cdbae64560",
                  "parentUUID": "d6b812f3-2614-4b13-9b4c-c0ba17d9e1d2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for user with no conversations",
                  "fullTitle": "Conversation (Messaging) Endpoints 44. GET /conversations - Get User Conversations should return empty array for user with no conversations",
                  "timedOut": false,
                  "duration": 309,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "// Create a new user without conversations\nconst newUserData = {\n  email: `noconv_${Date.now()}@example.com`,\n  password: 'password123',\n  username: `noconv_${Date.now()}`,\n  first_name: 'No',\n  last_name: 'Conversation',\n  role: 'buyer'\n};\nconst signupRes = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(newUserData);\nif (signupRes.body.success) {\n  const signinRes = await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/users/signin`)\n    .send({\n      email: newUserData.email,\n      password: newUserData.password\n    });\n  if (signinRes.body.success) {\n    const res = await chai\n      .request(baseURL)\n      .get(`${apiPrefix}/conversations`)\n      .set('Authorization', `Bearer ${signinRes.body.token}`);\n    validateSuccessResponse(res, 200);\n    expect(res.body.conversations).to.be.an('array');\n    expect(res.body.conversations).to.have.length(0);\n  }\n}",
                  "err": {
                    "message": "AssertionError: expected undefined to be an array",
                    "estack": "AssertionError: expected undefined to be an array\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:184:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "0c00830b-1129-4539-ba0b-630f8b66662e",
                  "parentUUID": "d6b812f3-2614-4b13-9b4c-c0ba17d9e1d2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "4e547ff9-39b4-403a-89a5-f9cdbae64560"
              ],
              "failures": [
                "5a7ea507-7e92-4134-aa17-87ad6fc7b2a6",
                "48552b25-c22c-4e31-8ec8-6ac17cce46b1",
                "0c00830b-1129-4539-ba0b-630f8b66662e"
              ],
              "pending": [],
              "skipped": [],
              "duration": 315,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d21b93a2-88e4-475b-9f91-8fff5653e75a",
              "title": "45. GET /conversations/unread-count - Get Unread Message Count",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get unread message count",
                  "fullTitle": "Conversation (Messaging) Endpoints 45. GET /conversations/unread-count - Get Unread Message Count should get unread message count",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations/unread-count`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('unreadCount');\nexpect(res.body.unreadCount).to.be.a('number');\nexpect(res.body.unreadCount).to.be.at.least(0);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:198:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "efb1dbf8-e93d-48ea-8b2a-0887d8d28e9f",
                  "parentUUID": "d21b93a2-88e4-475b-9f91-8fff5653e75a",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting unread count without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 45. GET /conversations/unread-count - Get Unread Message Count should reject getting unread count without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations/unread-count`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "58eba52c-948a-4fbe-94de-93586cfc972b",
                  "parentUUID": "d21b93a2-88e4-475b-9f91-8fff5653e75a",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "58eba52c-948a-4fbe-94de-93586cfc972b"
              ],
              "failures": [
                "efb1dbf8-e93d-48ea-8b2a-0887d8d28e9f"
              ],
              "pending": [],
              "skipped": [],
              "duration": 4,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "9565b161-ccd3-47a2-aaba-4bad44de01f2",
              "title": "46. GET /conversations/:conversationId/messages - Get Conversation Messages",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get messages from a conversation",
                  "fullTitle": "Conversation (Messaging) Endpoints 46. GET /conversations/:conversationId/messages - Get Conversation Messages should get messages from a conversation",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations/${testConversationId}/messages`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('messages');\nexpect(res.body.messages).to.be.an('array');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:216:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "47907798-933e-4ac5-81b3-63a9a1dc3719",
                  "parentUUID": "9565b161-ccd3-47a2-aaba-4bad44de01f2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate conversation messages",
                  "fullTitle": "Conversation (Messaging) Endpoints 46. GET /conversations/:conversationId/messages - Get Conversation Messages should paginate conversation messages",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations/${testConversationId}/messages?limit=50&offset=0`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.messages).to.be.an('array');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:232:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "a7681b69-f542-4175-a83d-7f6fda76cc78",
                  "parentUUID": "9565b161-ccd3-47a2-aaba-4bad44de01f2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting messages without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 46. GET /conversations/:conversationId/messages - Get Conversation Messages should reject getting messages without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/conversations/${testConversationId}/messages`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:247:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "d518d115-2046-4fc2-a852-079b65ce47f7",
                  "parentUUID": "9565b161-ccd3-47a2-aaba-4bad44de01f2",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting messages from conversation user is not part of",
                  "fullTitle": "Conversation (Messaging) Endpoints 46. GET /conversations/:conversationId/messages - Get Conversation Messages should reject getting messages from conversation user is not part of",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\n// Create a new user who is not part of the conversation\nconst newUserData = {\n  email: `outsider_${Date.now()}@example.com`,\n  password: 'password123',\n  username: `outsider_${Date.now()}`,\n  first_name: 'Outsider',\n  last_name: 'User',\n  role: 'buyer'\n};\nconst signupRes = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(newUserData);\nif (signupRes.body.success) {\n  const signinRes = await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/users/signin`)\n    .send({\n      email: newUserData.email,\n      password: newUserData.password\n    });\n  if (signinRes.body.success) {\n    const res = await chai\n      .request(baseURL)\n      .get(`${apiPrefix}/conversations/${testConversationId}/messages`)\n      .set('Authorization', `Bearer ${signinRes.body.token}`);\n    validateErrorResponse(res, 403);\n  }\n}",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:260:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "1c57f0d6-c108-4122-9745-17d7fd82eca3",
                  "parentUUID": "9565b161-ccd3-47a2-aaba-4bad44de01f2",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "47907798-933e-4ac5-81b3-63a9a1dc3719",
                "a7681b69-f542-4175-a83d-7f6fda76cc78",
                "d518d115-2046-4fc2-a852-079b65ce47f7",
                "1c57f0d6-c108-4122-9745-17d7fd82eca3"
              ],
              "pending": [],
              "skipped": [],
              "duration": 0,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "dfcc7b5d-90ba-49ba-86fb-4fd973042312",
              "title": "47. POST /conversations/:conversationId/messages - Send Message",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should send a message in a conversation",
                  "fullTitle": "Conversation (Messaging) Endpoints 47. POST /conversations/:conversationId/messages - Send Message should send a message in a conversation",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst messageData = {\n  message_text: 'This is a test message from automated testing'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations/${testConversationId}/messages`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(messageData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('message_id');",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:303:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "c351936c-d328-42cb-937f-e7a4ba59e76f",
                  "parentUUID": "dfcc7b5d-90ba-49ba-86fb-4fd973042312",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject sending message without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 47. POST /conversations/:conversationId/messages - Send Message should reject sending message without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst messageData = {\n  message_text: 'Unauthorized message'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations/${testConversationId}/messages`)\n  .send(messageData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:323:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "9b10bca3-86c7-4030-b533-7e51b5b93353",
                  "parentUUID": "dfcc7b5d-90ba-49ba-86fb-4fd973042312",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject sending empty message",
                  "fullTitle": "Conversation (Messaging) Endpoints 47. POST /conversations/:conversationId/messages - Send Message should reject sending empty message",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst messageData = {\n  message_text: ''\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/conversations/${testConversationId}/messages`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(messageData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:341:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "671185c1-c917-4b55-b697-48abc782debb",
                  "parentUUID": "dfcc7b5d-90ba-49ba-86fb-4fd973042312",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "c351936c-d328-42cb-937f-e7a4ba59e76f",
                "9b10bca3-86c7-4030-b533-7e51b5b93353",
                "671185c1-c917-4b55-b697-48abc782debb"
              ],
              "pending": [],
              "skipped": [],
              "duration": 0,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "5aa568be-f186-4945-82cc-67d6ed0a3d37",
              "title": "48. PATCH /conversations/:conversationId/read - Mark Messages as Read",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should mark messages as read",
                  "fullTitle": "Conversation (Messaging) Endpoints 48. PATCH /conversations/:conversationId/read - Mark Messages as Read should mark messages as read",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/conversations/${testConversationId}/read`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:362:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "a9e06d01-d362-4d25-983c-2b88371fff3d",
                  "parentUUID": "5aa568be-f186-4945-82cc-67d6ed0a3d37",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject marking messages as read without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 48. PATCH /conversations/:conversationId/read - Mark Messages as Read should reject marking messages as read without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .patch(`${apiPrefix}/conversations/${testConversationId}/read`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:376:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "a7d9d97c-9210-4ac4-8001-153c7639be28",
                  "parentUUID": "5aa568be-f186-4945-82cc-67d6ed0a3d37",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "a9e06d01-d362-4d25-983c-2b88371fff3d",
                "a7d9d97c-9210-4ac4-8001-153c7639be28"
              ],
              "pending": [],
              "skipped": [],
              "duration": 0,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "087a48c7-b3fc-4adf-807d-107f61bfb989",
              "title": "49. DELETE /conversations/:conversationId - Delete Conversation",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\08-conversation.test.js",
              "file": "\\test\\api\\08-conversation.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"49. DELETE /conversations/:conversationId - Delete Conversation\"",
                  "fullTitle": "Conversation (Messaging) Endpoints 49. DELETE /conversations/:conversationId - Delete Conversation \"before all\" hook in \"49. DELETE /conversations/:conversationId - Delete Conversation\"",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a conversation to delete\nif (testListingId && sellerId) {\n  const conversationData = {\n    listing_id: testListingId,\n    seller_id: sellerId,\n    initial_message: 'This conversation will be deleted'\n  };\n  const res = await chai\n    .request(baseURL)\n    .post(`${apiPrefix}/conversations`)\n    .set('Authorization', `Bearer ${tokens.buyer1}`)\n    .send(conversationData);\n  if (res.body.success) {\n    conversationToDelete = res.body.conversation_id;\n  }\n}",
                  "err": {},
                  "uuid": "a3b41921-03c4-4fe1-a4b8-7d1509d5446d",
                  "parentUUID": "087a48c7-b3fc-4adf-807d-107f61bfb989",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete a conversation",
                  "fullTitle": "Conversation (Messaging) Endpoints 49. DELETE /conversations/:conversationId - Delete Conversation should delete a conversation",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!conversationToDelete) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/conversations/${conversationToDelete}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:414:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "f86172a2-aa8c-4191-b3e4-9e3500f37127",
                  "parentUUID": "087a48c7-b3fc-4adf-807d-107f61bfb989",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject deleting conversation without authentication",
                  "fullTitle": "Conversation (Messaging) Endpoints 49. DELETE /conversations/:conversationId - Delete Conversation should reject deleting conversation without authentication",
                  "timedOut": false,
                  "duration": 0,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testConversationId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/conversations/${testConversationId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:428:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "7235936f-c035-4fc5-a0cd-72e209cfef4f",
                  "parentUUID": "087a48c7-b3fc-4adf-807d-107f61bfb989",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent conversation",
                  "fullTitle": "Conversation (Messaging) Endpoints 49. DELETE /conversations/:conversationId - Delete Conversation should return 404 for non-existent conversation",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/conversations/999999`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/08-conversation.test.js:445:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "79fcc5f0-0f8e-4d9b-ac42-087d0b470c67",
                  "parentUUID": "087a48c7-b3fc-4adf-807d-107f61bfb989",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "f86172a2-aa8c-4191-b3e4-9e3500f37127",
                "7235936f-c035-4fc5-a0cd-72e209cfef4f",
                "79fcc5f0-0f8e-4d9b-ac42-087d0b470c67"
              ],
              "pending": [],
              "skipped": [],
              "duration": 2,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "32988e79-77c6-4789-8823-b28973a93cc7",
          "title": "Guest Contact Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\09-guest-contact.test.js",
          "file": "\\test\\api\\09-guest-contact.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Guest Contact Endpoints\"",
              "fullTitle": "Guest Contact Endpoints \"before all\" hook in \"Guest Contact Endpoints\"",
              "timedOut": false,
              "duration": 72,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get an existing listing\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (res.body.success && res.body.listings.length > 0) {\n  testListingId = res.body.listings[0].listing_id;\n}",
              "err": {},
              "uuid": "fc2c687c-2641-4b72-896a-ed00194a5ea4",
              "parentUUID": "32988e79-77c6-4789-8823-b28973a93cc7",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
              "title": "50. POST /guest-contacts - Submit Guest Contact",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\09-guest-contact.test.js",
              "file": "\\test\\api\\09-guest-contact.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should submit a guest contact inquiry",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should submit a guest contact inquiry",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst contactData = {\n  listing_id: testListingId,\n  guest_name: 'John Doe',\n  guest_email: 'johndoe@example.com',\n  guest_phone: '0812345678',\n  message: 'Hello, I am interested in this item. Can you provide more details?'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('contact_id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:42:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 201\n"
                  },
                  "uuid": "033ed345-7902-4dc0-ba23-ea159e2f2a61",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should submit guest contact with minimal required fields",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should submit guest contact with minimal required fields",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst contactData = {\n  listing_id: testListingId,\n  guest_name: 'Jane Smith',\n  guest_email: 'janesmith@example.com',\n  message: 'Is this still available?'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('contact_id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:64:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 201\n"
                  },
                  "uuid": "c5af7894-bfd3-4283-9503-8e69da6bc237",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject guest contact with missing required fields",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should reject guest contact with missing required fields",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const contactData = {\n  guest_name: 'Incomplete Contact'\n  // Missing listing_id, guest_email, message\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateErrorResponse(res, 400);",
                  "err": {},
                  "uuid": "bb7cca5b-7030-4517-b5fc-feda6bd0c820",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject guest contact with invalid email",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should reject guest contact with invalid email",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst contactData = {\n  listing_id: testListingId,\n  guest_name: 'Bad Email',\n  guest_email: 'not-an-email',\n  message: 'Test message'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateErrorResponse(res, 400);",
                  "err": {},
                  "uuid": "3d31e8eb-f746-4bc4-abad-6f59bbe1e0c5",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject guest contact for non-existent listing",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should reject guest contact for non-existent listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const contactData = {\n  listing_id: 999999,\n  guest_name: 'Test User',\n  guest_email: 'test@example.com',\n  message: 'Test message'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 400\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:116:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 404\n"
                  },
                  "uuid": "b89c6fab-4efd-4de8-9bde-699f1d9ff707",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should allow guest contact without authentication (public endpoint)",
                  "fullTitle": "Guest Contact Endpoints 50. POST /guest-contacts - Submit Guest Contact should allow guest contact without authentication (public endpoint)",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst contactData = {\n  listing_id: testListingId,\n  guest_name: 'Anonymous Guest',\n  guest_email: 'anonymous@example.com',\n  message: 'Public inquiry test'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/guest-contacts`)\n  .send(contactData);\nvalidateSuccessResponse(res, 201);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 400\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:137:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 400\n+ 201\n"
                  },
                  "uuid": "52155e43-4859-458f-a8d3-d6bac429f652",
                  "parentUUID": "0f2c4517-b15a-44a1-8c3a-733fec19de0b",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "bb7cca5b-7030-4517-b5fc-feda6bd0c820",
                "3d31e8eb-f746-4bc4-abad-6f59bbe1e0c5"
              ],
              "failures": [
                "033ed345-7902-4dc0-ba23-ea159e2f2a61",
                "c5af7894-bfd3-4283-9503-8e69da6bc237",
                "b89c6fab-4efd-4de8-9bde-699f1d9ff707",
                "52155e43-4859-458f-a8d3-d6bac429f652"
              ],
              "pending": [],
              "skipped": [],
              "duration": 12,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "cfc68f57-7314-41be-bc6c-b22648c2bf6f",
              "title": "51. GET /guest-contacts/listing/:listingId - Get Listing Guest Contacts",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\09-guest-contact.test.js",
              "file": "\\test\\api\\09-guest-contact.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get guest contacts for a listing as seller",
                  "fullTitle": "Guest Contact Endpoints 51. GET /guest-contacts/listing/:listingId - Get Listing Guest Contacts should get guest contacts for a listing as seller",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/listing/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nif (res.status === 200) {\n  validateSuccessResponse(res, 200);\n  expect(res.body).to.have.property('contacts');\n  expect(res.body.contacts).to.be.an('array');\n} else if (res.status === 403) {\n  // If seller1 doesn't own this listing\n  validateErrorResponse(res, 403);\n}",
                  "err": {},
                  "uuid": "a6ac6efc-19f4-4212-8c1b-ee195bc6c158",
                  "parentUUID": "cfc68f57-7314-41be-bc6c-b22648c2bf6f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate listing guest contacts",
                  "fullTitle": "Guest Contact Endpoints 51. GET /guest-contacts/listing/:listingId - Get Listing Guest Contacts should paginate listing guest contacts",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/listing/${testListingId}?limit=10&offset=0`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nif (res.status === 200) {\n  validateSuccessResponse(res, 200);\n  expect(res.body.contacts).to.be.an('array');\n} else {\n  expect(res.status).to.be.oneOf([200, 403]);\n}",
                  "err": {
                    "message": "AssertionError: expected 401 to be one of [ 200, 403 ]",
                    "estack": "AssertionError: expected 401 to be one of [ 200, 403 ]\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:178:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "ea5caab7-e923-4a5a-ad81-e5864a52b13e",
                  "parentUUID": "cfc68f57-7314-41be-bc6c-b22648c2bf6f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting guest contacts without authentication",
                  "fullTitle": "Guest Contact Endpoints 51. GET /guest-contacts/listing/:listingId - Get Listing Guest Contacts should reject getting guest contacts without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/listing/${testListingId}`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "fbcaa40b-30e2-47e6-8e9e-048dd1781e2d",
                  "parentUUID": "cfc68f57-7314-41be-bc6c-b22648c2bf6f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting guest contacts by non-owner",
                  "fullTitle": "Guest Contact Endpoints 51. GET /guest-contacts/listing/:listingId - Get Listing Guest Contacts should reject getting guest contacts by non-owner",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/listing/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:206:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "be59b906-52ed-4ba8-8260-eada2a4f30b8",
                  "parentUUID": "cfc68f57-7314-41be-bc6c-b22648c2bf6f",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "a6ac6efc-19f4-4212-8c1b-ee195bc6c158",
                "fbcaa40b-30e2-47e6-8e9e-048dd1781e2d"
              ],
              "failures": [
                "ea5caab7-e923-4a5a-ad81-e5864a52b13e",
                "be59b906-52ed-4ba8-8260-eada2a4f30b8"
              ],
              "pending": [],
              "skipped": [],
              "duration": 7,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "d9283fb7-648c-41ba-abf0-de0939293d32",
              "title": "52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\09-guest-contact.test.js",
              "file": "\\test\\api\\09-guest-contact.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should get all guest contacts for the authenticated seller",
                  "fullTitle": "Guest Contact Endpoints 52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts should get all guest contacts for the authenticated seller",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/my-contacts`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('contacts');\nexpect(res.body.contacts).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:217:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "c8a515a0-14bc-4bdb-bf52-f084b03ecb1a",
                  "parentUUID": "d9283fb7-648c-41ba-abf0-de0939293d32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should paginate seller's guest contacts",
                  "fullTitle": "Guest Contact Endpoints 52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts should paginate seller's guest contacts",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/my-contacts?limit=20&offset=0`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateSuccessResponse(res, 200);\nexpect(res.body.contacts).to.be.an('array');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:228:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "c896978f-7127-43eb-a39e-35e4462857a0",
                  "parentUUID": "d9283fb7-648c-41ba-abf0-de0939293d32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting contacts without authentication",
                  "fullTitle": "Guest Contact Endpoints 52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts should reject getting contacts without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/my-contacts`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "3b6d5029-95c8-4654-99e6-b13d563e0c97",
                  "parentUUID": "d9283fb7-648c-41ba-abf0-de0939293d32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject getting contacts by non-seller",
                  "fullTitle": "Guest Contact Endpoints 52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts should reject getting contacts by non-seller",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/guest-contacts/my-contacts`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/09-guest-contact.test.js:246:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "aa658e49-39eb-4a75-9748-badf563524f1",
                  "parentUUID": "d9283fb7-648c-41ba-abf0-de0939293d32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return empty array for seller with no contacts",
                  "fullTitle": "Guest Contact Endpoints 52. GET /guest-contacts/my-contacts - Get All Seller's Guest Contacts should return empty array for seller with no contacts",
                  "timedOut": false,
                  "duration": 37,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// seller2 might not have any contacts\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signin`)\n  .send({\n    email: global.testAccounts.seller2.email,\n    password: global.testAccounts.seller2.password\n  });\nif (res.body.success) {\n  const seller2Token = res.body.token;\n  const contactsRes = await chai\n    .request(baseURL)\n    .get(`${apiPrefix}/guest-contacts/my-contacts`)\n    .set('Authorization', `Bearer ${seller2Token}`);\n  validateSuccessResponse(contactsRes, 200);\n  expect(contactsRes.body.contacts).to.be.an('array');\n}",
                  "err": {},
                  "uuid": "907c15d6-3dce-4f6d-af7e-2454c160f4dc",
                  "parentUUID": "d9283fb7-648c-41ba-abf0-de0939293d32",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "3b6d5029-95c8-4654-99e6-b13d563e0c97",
                "907c15d6-3dce-4f6d-af7e-2454c160f4dc"
              ],
              "failures": [
                "c8a515a0-14bc-4bdb-bf52-f084b03ecb1a",
                "c896978f-7127-43eb-a39e-35e4462857a0",
                "aa658e49-39eb-4a75-9748-badf563524f1"
              ],
              "pending": [],
              "skipped": [],
              "duration": 45,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        },
        {
          "uuid": "5bf71818-8a3a-4647-9a82-956ac41d52c4",
          "title": "Admin Endpoints",
          "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
          "file": "\\test\\api\\10-admin.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Admin Endpoints\"",
              "fullTitle": "Admin Endpoints \"before all\" hook in \"Admin Endpoints\"",
              "timedOut": false,
              "duration": 143,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Get an existing listing\nconst listingsRes = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/listings?limit=1`);\nif (listingsRes.body.success && listingsRes.body.listings.length > 0) {\n  testListingId = listingsRes.body.listings[0].listing_id;\n}\n// Get an existing category\nconst categoriesRes = await chai\n  .request(baseURL)\n  .get(`${apiPrefix}/categories`);\nif (categoriesRes.body.success && categoriesRes.body.categories.length > 0) {\n  testCategoryId = categoriesRes.body.categories[0].category_id;\n}",
              "err": {},
              "uuid": "c483da39-9015-4001-9817-b844249a74c7",
              "parentUUID": "5bf71818-8a3a-4647-9a82-956ac41d52c4",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "faacfd7f-100f-4f2d-9eef-0f731a6aa484",
              "title": "53. POST /admin/users - Create Admin Account",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create admin account with super admin credentials",
                  "fullTitle": "Admin Endpoints 53. POST /admin/users - Create Admin Account should create admin account with super admin credentials",
                  "timedOut": false,
                  "duration": 8,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `admin_test_${Date.now()}@marketplace.com`,\n  password: 'adminpassword123',\n  username: `admin_test_${Date.now()}`,\n  first_name: 'Admin',\n  last_name: 'Test'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/users`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password)\n  .send(adminData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:49:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 201\n"
                  },
                  "uuid": "acd1d052-7d14-4c05-9913-cc010c1078ba",
                  "parentUUID": "faacfd7f-100f-4f2d-9eef-0f731a6aa484",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject admin creation without super admin auth",
                  "fullTitle": "Admin Endpoints 53. POST /admin/users - Create Admin Account should reject admin creation without super admin auth",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `admin_noauth_${Date.now()}@marketplace.com`,\n  password: 'adminpassword123',\n  username: `admin_noauth_${Date.now()}`,\n  first_name: 'No',\n  last_name: 'Auth'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/users`)\n  .send(adminData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:67:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "e06ef5f4-f260-4ace-97da-65e5216e2953",
                  "parentUUID": "faacfd7f-100f-4f2d-9eef-0f731a6aa484",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject admin creation with JWT token (must use Basic Auth)",
                  "fullTitle": "Admin Endpoints 53. POST /admin/users - Create Admin Account should reject admin creation with JWT token (must use Basic Auth)",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `admin_jwt_${Date.now()}@marketplace.com`,\n  password: 'adminpassword123',\n  username: `admin_jwt_${Date.now()}`,\n  first_name: 'JWT',\n  last_name: 'Test'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/users`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(adminData);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:85:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "5f2003ca-bd9b-48aa-91b7-fda6fe59d560",
                  "parentUUID": "faacfd7f-100f-4f2d-9eef-0f731a6aa484",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject admin creation with missing required fields",
                  "fullTitle": "Admin Endpoints 53. POST /admin/users - Create Admin Account should reject admin creation with missing required fields",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const adminData = {\n  email: `incomplete_${Date.now()}@marketplace.com`\n  // Missing password, username, first_name, last_name\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/users`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password)\n  .send(adminData);\nvalidateErrorResponse(res, 400);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 400 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:100:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 400\n"
                  },
                  "uuid": "7907bc2d-7a92-42d5-b0c9-a914842582e9",
                  "parentUUID": "faacfd7f-100f-4f2d-9eef-0f731a6aa484",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "acd1d052-7d14-4c05-9913-cc010c1078ba",
                "e06ef5f4-f260-4ace-97da-65e5216e2953",
                "5f2003ca-bd9b-48aa-91b7-fda6fe59d560",
                "7907bc2d-7a92-42d5-b0c9-a914842582e9"
              ],
              "pending": [],
              "skipped": [],
              "duration": 16,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "33502054-8244-4dea-a792-d77119eaa719",
              "title": "54. DELETE /admin/users/:id - Delete User Account",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"54. DELETE /admin/users/:id - Delete User Account\"",
                  "fullTitle": "Admin Endpoints 54. DELETE /admin/users/:id - Delete User Account \"before all\" hook in \"54. DELETE /admin/users/:id - Delete User Account\"",
                  "timedOut": false,
                  "duration": 105,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a user to delete\nconst userData = {\n  email: `todelete_admin_${Date.now()}@example.com`,\n  password: 'password123',\n  username: `todelete_admin_${Date.now()}`,\n  first_name: 'To',\n  last_name: 'Delete',\n  role: 'buyer'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nif (res.body.success) {\n  testUserId = res.body.id;\n}",
                  "err": {},
                  "uuid": "c20b33ae-f132-4b57-b8e7-7b92792da010",
                  "parentUUID": "33502054-8244-4dea-a792-d77119eaa719",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete user with super admin credentials",
                  "fullTitle": "Admin Endpoints 54. DELETE /admin/users/:id - Delete User Account should delete user with super admin credentials",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testUserId) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/users/${testUserId}`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('deletedUser');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:137:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "788bf568-e8fb-454a-86eb-fa269e065263",
                  "parentUUID": "33502054-8244-4dea-a792-d77119eaa719",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject user deletion without super admin auth",
                  "fullTitle": "Admin Endpoints 54. DELETE /admin/users/:id - Delete User Account should reject user deletion without super admin auth",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/users/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {
                    "message": "AssertionError: expected { Object (message) } to have property 'success'",
                    "estack": "AssertionError: expected { Object (message) } to have property 'success'\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:97:28)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:146:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": null
                  },
                  "uuid": "bc07390d-7e43-4102-a282-f6a89a506218",
                  "parentUUID": "33502054-8244-4dea-a792-d77119eaa719",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent user",
                  "fullTitle": "Admin Endpoints 54. DELETE /admin/users/:id - Delete User Account should return 404 for non-existent user",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/users/999999`)\n  .auth(global.testAccounts.superAdmin.email, global.testAccounts.superAdmin.password);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:155:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "30967778-285f-411a-9241-e0addcc4cef8",
                  "parentUUID": "33502054-8244-4dea-a792-d77119eaa719",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "788bf568-e8fb-454a-86eb-fa269e065263",
                "bc07390d-7e43-4102-a282-f6a89a506218",
                "30967778-285f-411a-9241-e0addcc4cef8"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "53418735-b360-469d-ab0e-7a7f548111fd",
              "title": "55. POST /admin/categories - Create Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should create category as admin",
                  "fullTitle": "Admin Endpoints 55. POST /admin/categories - Create Category should create category as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: `Admin Category ${Date.now()}`,\n  slug: `admin-category-${Date.now()}`,\n  description: 'Category created by admin endpoint',\n  icon_url: 'https://example.com/icon.png'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/categories`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(categoryData);\nvalidateSuccessResponse(res, 201);\nexpect(res.body).to.have.property('category_id');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 201 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:174:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 201\n"
                  },
                  "uuid": "c585170b-c337-4614-be55-a0da018194d5",
                  "parentUUID": "53418735-b360-469d-ab0e-7a7f548111fd",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category creation without authentication",
                  "fullTitle": "Admin Endpoints 55. POST /admin/categories - Create Category should reject category creation without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: 'No Auth Category',\n  slug: 'no-auth-category',\n  description: 'Should fail'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/categories`)\n  .send(categoryData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "86ab1d9e-196d-44fb-8cce-618f09a7e117",
                  "parentUUID": "53418735-b360-469d-ab0e-7a7f548111fd",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category creation by non-admin",
                  "fullTitle": "Admin Endpoints 55. POST /admin/categories - Create Category should reject category creation by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const categoryData = {\n  category_name: 'Seller Category',\n  slug: 'seller-category',\n  description: 'Created by seller'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/categories`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(categoryData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:206:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "6cab5402-024f-47f4-b221-d381e3b185bc",
                  "parentUUID": "53418735-b360-469d-ab0e-7a7f548111fd",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "86ab1d9e-196d-44fb-8cce-618f09a7e117"
              ],
              "failures": [
                "c585170b-c337-4614-be55-a0da018194d5",
                "6cab5402-024f-47f4-b221-d381e3b185bc"
              ],
              "pending": [],
              "skipped": [],
              "duration": 6,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "a64e6788-8596-4c26-a889-5794f51ed72f",
              "title": "56. PUT /admin/categories/:id - Update Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update category as admin",
                  "fullTitle": "Admin Endpoints 56. PUT /admin/categories/:id - Update Category should update category as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategoryId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  description: `Updated description ${Date.now()}`\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/categories/${testCategoryId}`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('category');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:227:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "f674cef0-aa08-459f-a262-8c3f0cf0fcce",
                  "parentUUID": "a64e6788-8596-4c26-a889-5794f51ed72f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category update without authentication",
                  "fullTitle": "Admin Endpoints 56. PUT /admin/categories/:id - Update Category should reject category update without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategoryId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  description: 'Unauthorized update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/categories/${testCategoryId}`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "0f8c9ca0-c522-4b53-b90b-e48a74dc530a",
                  "parentUUID": "a64e6788-8596-4c26-a889-5794f51ed72f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category update by non-admin",
                  "fullTitle": "Admin Endpoints 56. PUT /admin/categories/:id - Update Category should reject category update by non-admin",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testCategoryId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  description: 'Buyer update'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/categories/${testCategoryId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:265:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "037b5d79-e940-438f-a849-3eea5e34b114",
                  "parentUUID": "a64e6788-8596-4c26-a889-5794f51ed72f",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "0f8c9ca0-c522-4b53-b90b-e48a74dc530a"
              ],
              "failures": [
                "f674cef0-aa08-459f-a262-8c3f0cf0fcce",
                "037b5d79-e940-438f-a849-3eea5e34b114"
              ],
              "pending": [],
              "skipped": [],
              "duration": 7,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "ae262903-fa8e-4220-a102-5582819b109f",
              "title": "57. DELETE /admin/categories/:id - Delete Category",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"57. DELETE /admin/categories/:id - Delete Category\"",
                  "fullTitle": "Admin Endpoints 57. DELETE /admin/categories/:id - Delete Category \"before all\" hook in \"57. DELETE /admin/categories/:id - Delete Category\"",
                  "timedOut": false,
                  "duration": 2,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a category to delete\nconst categoryData = {\n  category_name: `To Delete ${Date.now()}`,\n  slug: `to-delete-${Date.now()}`,\n  description: 'Will be deleted'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/admin/categories`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(categoryData);\nif (res.body.success) {\n  categoryToDelete = res.body.category_id;\n}",
                  "err": {},
                  "uuid": "4e55f4d5-028f-4743-80a2-291d333b98db",
                  "parentUUID": "ae262903-fa8e-4220-a102-5582819b109f",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should delete category as admin",
                  "fullTitle": "Admin Endpoints 57. DELETE /admin/categories/:id - Delete Category should delete category as admin",
                  "timedOut": false,
                  "duration": 1,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!categoryToDelete) {\n  this.skip();\n  return;\n}\nconst res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/categories/${categoryToDelete}`)\n  .set('Authorization', `Bearer ${tokens.admin}`);\nvalidateSuccessResponse(res, 200);",
                  "err": {
                    "message": "TypeError: this.skip is not a function",
                    "estack": "TypeError: this.skip is not a function\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:293:14)\n    at process.processImmediate (node:internal/timers:485:21)",
                    "diff": null
                  },
                  "uuid": "6467b141-e2a7-43f2-a607-2aa0ec20cf00",
                  "parentUUID": "ae262903-fa8e-4220-a102-5582819b109f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category deletion without authentication",
                  "fullTitle": "Admin Endpoints 57. DELETE /admin/categories/:id - Delete Category should reject category deletion without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/categories/999`);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "d8d251fb-fbaa-4d7f-9da7-0b6d69591b84",
                  "parentUUID": "ae262903-fa8e-4220-a102-5582819b109f",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject category deletion by non-admin",
                  "fullTitle": "Admin Endpoints 57. DELETE /admin/categories/:id - Delete Category should reject category deletion by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const res = await chai\n  .request(baseURL)\n  .delete(`${apiPrefix}/admin/categories/999`)\n  .set('Authorization', `Bearer ${tokens.seller1}`);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:319:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "410b5c78-ed3e-4e41-a2ea-779fc42d5df2",
                  "parentUUID": "ae262903-fa8e-4220-a102-5582819b109f",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d8d251fb-fbaa-4d7f-9da7-0b6d69591b84"
              ],
              "failures": [
                "6467b141-e2a7-43f2-a607-2aa0ec20cf00",
                "410b5c78-ed3e-4e41-a2ea-779fc42d5df2"
              ],
              "pending": [],
              "skipped": [],
              "duration": 5,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
              "title": "58. PUT /admin/users/:id - Edit User Profile",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook in \"58. PUT /admin/users/:id - Edit User Profile\"",
                  "fullTitle": "Admin Endpoints 58. PUT /admin/users/:id - Edit User Profile \"before all\" hook in \"58. PUT /admin/users/:id - Edit User Profile\"",
                  "timedOut": false,
                  "duration": 104,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Create a user to edit\nconst userData = {\n  email: `toedit_${Date.now()}@example.com`,\n  password: 'password123',\n  username: `toedit_${Date.now()}`,\n  first_name: 'To',\n  last_name: 'Edit',\n  role: 'buyer'\n};\nconst res = await chai\n  .request(baseURL)\n  .post(`${apiPrefix}/users/signup`)\n  .send(userData);\nif (res.body.success) {\n  userToEdit = res.body.id;\n}",
                  "err": {},
                  "uuid": "115c7923-bb7e-433e-9522-fc1030eaebf0",
                  "parentUUID": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should edit user profile as admin",
                  "fullTitle": "Admin Endpoints 58. PUT /admin/users/:id - Edit User Profile should edit user profile as admin",
                  "timedOut": false,
                  "duration": 3,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!userToEdit) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  first_name: 'Edited',\n  last_name: 'ByAdmin',\n  status: 'active'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/users/${userToEdit}`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('user');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:365:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "bd67d3b3-dd13-4f2b-9e09-47202429c3db",
                  "parentUUID": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject user edit without authentication",
                  "fullTitle": "Admin Endpoints 58. PUT /admin/users/:id - Edit User Profile should reject user edit without authentication",
                  "timedOut": false,
                  "duration": 3,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!userToEdit) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  first_name: 'Unauthorized'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/users/${userToEdit}`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "db71270b-06c2-4c07-9956-5c107367c900",
                  "parentUUID": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject user edit by non-admin",
                  "fullTitle": "Admin Endpoints 58. PUT /admin/users/:id - Edit User Profile should reject user edit by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!userToEdit) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  first_name: 'Seller Edit'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/users/${userToEdit}`)\n  .set('Authorization', `Bearer ${tokens.seller1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:403:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "cabb0a76-b088-49c2-902a-440f81d1a08b",
                  "parentUUID": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent user",
                  "fullTitle": "Admin Endpoints 58. PUT /admin/users/:id - Edit User Profile should return 404 for non-existent user",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  first_name: 'Not Found'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/users/999999`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:417:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "54a95608-6174-47cf-8a7b-bf10f456629c",
                  "parentUUID": "87cca9ae-95f6-4074-af24-f9e8e90eaa16",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "db71270b-06c2-4c07-9956-5c107367c900"
              ],
              "failures": [
                "bd67d3b3-dd13-4f2b-9e09-47202429c3db",
                "cabb0a76-b088-49c2-902a-440f81d1a08b",
                "54a95608-6174-47cf-8a7b-bf10f456629c"
              ],
              "pending": [],
              "skipped": [],
              "duration": 10,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            },
            {
              "uuid": "4993e96a-66c7-4605-b72f-53efb70cfe32",
              "title": "59. PUT /admin/listings/:id - Edit Listing",
              "fullFile": "C:\\Users\\PC\\Documents\\BLOW_JOB\\csi400\\c2c_project\\ver12\\backend\\test\\api\\10-admin.test.js",
              "file": "\\test\\api\\10-admin.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should edit listing as admin",
                  "fullTitle": "Admin Endpoints 59. PUT /admin/listings/:id - Edit Listing should edit listing as admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  title: `Admin Edited ${Date.now()}`,\n  description: 'Edited by admin for testing'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/listings/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateSuccessResponse(res, 200);\nexpect(res.body).to.have.property('listing');",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 200 but got 401\n    at validateSuccessResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:85:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:439:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 200\n"
                  },
                  "uuid": "eae5faca-7fae-48a4-87eb-8dfba66ec44b",
                  "parentUUID": "4993e96a-66c7-4605-b72f-53efb70cfe32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject listing edit without authentication",
                  "fullTitle": "Admin Endpoints 59. PUT /admin/listings/:id - Edit Listing should reject listing edit without authentication",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  title: 'No Auth Edit'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/listings/${testListingId}`)\n  .send(updateData);\nvalidateErrorResponse(res, 401);",
                  "err": {},
                  "uuid": "c84509f7-c9aa-4a10-9e31-ed92e25540a4",
                  "parentUUID": "4993e96a-66c7-4605-b72f-53efb70cfe32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should reject listing edit by non-admin",
                  "fullTitle": "Admin Endpoints 59. PUT /admin/listings/:id - Edit Listing should reject listing edit by non-admin",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "if (!testListingId) {\n  this.skip();\n  return;\n}\nconst updateData = {\n  title: 'Buyer Edit'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/listings/${testListingId}`)\n  .set('Authorization', `Bearer ${tokens.buyer1}`)\n  .send(updateData);\nvalidateErrorResponse(res, 403);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 403 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:477:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 403\n"
                  },
                  "uuid": "10a07e3f-62fe-4bf7-9629-19edda79a486",
                  "parentUUID": "4993e96a-66c7-4605-b72f-53efb70cfe32",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should return 404 for non-existent listing",
                  "fullTitle": "Admin Endpoints 59. PUT /admin/listings/:id - Edit Listing should return 404 for non-existent listing",
                  "timedOut": false,
                  "duration": 2,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const updateData = {\n  title: 'Not Found'\n};\nconst res = await chai\n  .request(baseURL)\n  .put(`${apiPrefix}/admin/listings/999999`)\n  .set('Authorization', `Bearer ${tokens.admin}`)\n  .send(updateData);\nvalidateErrorResponse(res, 404);",
                  "err": {
                    "message": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401",
                    "estack": "AssertionError: expected Response{ _events: {}, …(35), …(2) } to have status code 404 but got 401\n    at validateErrorResponse (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/helpers.js:95:23)\n    at Context.<anonymous> (file:///C:/Users/PC/Documents/BLOW_JOB/csi400/c2c_project/ver12/backend/test/api/10-admin.test.js:491:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                    "diff": "- 401\n+ 404\n"
                  },
                  "uuid": "be396ccb-3b22-44b1-9b2d-cdb0f8812a7c",
                  "parentUUID": "4993e96a-66c7-4605-b72f-53efb70cfe32",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "c84509f7-c9aa-4a10-9e31-ed92e25540a4"
              ],
              "failures": [
                "eae5faca-7fae-48a4-87eb-8dfba66ec44b",
                "10a07e3f-62fe-4bf7-9629-19edda79a486",
                "be396ccb-3b22-44b1-9b2d-cdb0f8812a7c"
              ],
              "pending": [],
              "skipped": [],
              "duration": 8,
              "root": false,
              "rootEmpty": false,
              "_timeout": 30000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 30000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 30000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.5"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "[object Object]": true
      },
      "version": "6.3.2"
    }
  }
}